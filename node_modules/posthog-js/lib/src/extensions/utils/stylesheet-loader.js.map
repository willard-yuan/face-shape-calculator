{"version":3,"file":"stylesheet-loader.js","sourceRoot":"","sources":["../../../../src/extensions/utils/stylesheet-loader.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,YAAY,EAAE,MAAM,oBAAoB,CAAA;AAEjD,IAAM,MAAM,GAAG,YAAY,CAAC,qBAAqB,CAAC,CAAA;AAElD,MAAM,CAAC,IAAM,iBAAiB,GAAG,UAAC,QAAkB,EAAE,SAAiB,EAAE,OAAiB;;IACtF,mGAAmG;IACnG,IAAI,UAAU,GAA4B,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAA;IACzE,UAAU,CAAC,SAAS,GAAG,SAAS,CAAA;IAEhC,IAAI,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,0CAAE,sCAAsC,EAAE,CAAC;QAC1D,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,sCAAsC,CAAC,UAAU,CAAC,CAAA;IAClF,CAAC;IAED,IAAI,CAAC,UAAU,EAAE,CAAC;QACd,MAAM,CAAC,KAAK,CAAC,sDAAsD,CAAC,CAAA;QACpE,OAAO,IAAI,CAAA;IACf,CAAC;IAED,OAAO,UAAU,CAAA;AACrB,CAAC,CAAA","sourcesContent":["import { PostHog } from '../../posthog-core'\nimport { createLogger } from '../../utils/logger'\n\nconst logger = createLogger('[Stylesheet Loader]')\n\nexport const prepareStylesheet = (document: Document, innerText: string, posthog?: PostHog) => {\n    // Forcing the existence of `document` requires this function to be called in a browser environment\n    let stylesheet: HTMLStyleElement | null = document.createElement('style')\n    stylesheet.innerText = innerText\n\n    if (posthog?.config?.prepare_external_dependency_stylesheet) {\n        stylesheet = posthog.config.prepare_external_dependency_stylesheet(stylesheet)\n    }\n\n    if (!stylesheet) {\n        logger.error('prepare_external_dependency_stylesheet returned null')\n        return null\n    }\n\n    return stylesheet\n}\n"]}