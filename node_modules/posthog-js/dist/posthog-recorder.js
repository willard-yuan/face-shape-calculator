!function(e){"use strict";function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e,t,r,n,s,o,i){try{var a=e[o](i),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,s)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(s,o){var i=e.apply(t,r);function a(e){n(i,s,o,a,l,"next",e)}function l(e){n(i,s,o,a,l,"throw",e)}a(void 0)}))}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var a,l=["inputs"],u=["inputId"],c=["inputs"],h=["inputId"],p=["type"],d=Object.defineProperty,f=(e,t,r)=>((e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),m=Object.defineProperty,v=(e,t,r)=>((e,t,r)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),g=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(g||{}),y={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},w={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},b={};function S(e){if(b[e])return b[e];var t=function(e){var t,r,n=null==(r=null==(t=null==globalThis?void 0:globalThis.Zone)?void 0:t.__symbol__)?void 0:r.call(t,e);return n&&globalThis[n]?globalThis[n]:void 0}(e)||globalThis[e],r=t.prototype,n=e in y?y[e]:void 0,s=Boolean(n&&n.every((e=>{var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),o=e in w?w[e]:void 0,i=Boolean(o&&o.every((e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(s&&i)return b[e]=t.prototype,t.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var l=a.contentWindow;if(!l)return t.prototype;var u=l[e].prototype;return document.body.removeChild(a),u?b[e]=u:r}catch(e){return r}}var C={};function k(e,t,r){var n,s="".concat(e,".").concat(String(r));if(C[s])return C[s].call(t);var o=S(e),i=null==(n=Object.getOwnPropertyDescriptor(o,r))?void 0:n.get;return i?(C[s]=i,i.call(t)):t[r]}var x={};function O(e,t,r){var n="".concat(e,".").concat(String(r));if(x[n])return x[n].bind(t);var s=S(e)[r];return"function"!=typeof s?t[r]:(x[n]=s,s.bind(t))}var M={childNodes:function(e){return k("Node",e,"childNodes")},parentNode:function(e){return k("Node",e,"parentNode")},parentElement:function(e){return k("Node",e,"parentElement")},textContent:function(e){return k("Node",e,"textContent")},contains:function(e,t){return O("Node",e,"contains")(t)},getRootNode:function(e){return O("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?k("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?k("Element",e,"shadowRoot"):null},querySelector:function(e,t){return k("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return k("Element",e,"querySelectorAll")(t)},mutationObserver:function(){return S("MutationObserver").constructor},patch:function(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch(e){return()=>{}}}};function I(e){return e.nodeType===e.ELEMENT_NODE}function E(e){var t=e&&"host"in e&&"mode"in e&&M.host(e)||null;return Boolean(t&&"shadowRoot"in t&&M.shadowRoot(t)===e)}function R(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function T(e){try{var t=e.rules||e.cssRules;if(!t)return null;var r=e.href;!r&&e.ownerNode&&e.ownerNode.ownerDocument&&(r=e.ownerNode.ownerDocument.location.href);var n=Array.from(t,(e=>A(e,r))).join("");return(s=n).includes(" background-clip: text;")&&!s.includes(" -webkit-background-clip: text;")&&(s=s.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),s}catch(e){return null}var s}function A(e,t){if(function(e){return"styleSheet"in e}(e)){var r;try{r=T(e.styleSheet)||function(e){var{cssText:t}=e;if(t.split('"').length<3)return t;var r=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?r.push("layer"):e.layerName&&r.push("layer(".concat(e.layerName,")")),e.supportsText&&r.push("supports(".concat(e.supportsText,")")),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(t){r=e.cssText}return e.styleSheet.href?W(r,e.styleSheet.href):r}var n,s=e.cssText;return function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":")&&(n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,s=s.replace(n,"$1\\$2")),t?W(s,t):s}class N{constructor(){v(this,"idNodeMap",new Map),v(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;var r=null==(t=this.getMeta(e))?void 0:t.id;return null!=r?r:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){var t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){var r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){var r=this.getNode(e);if(r){var n=this.nodeMetaMap.get(r);n&&this.nodeMetaMap.set(t,n)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function L(e){var{element:t,maskInputOptions:r,tagName:n,type:s,value:o,maskInputFn:i}=e,a=o||"",l=s&&P(s);return(r[n.toLowerCase()]||l&&r[l])&&(a=i?i(a,t):"*".repeat(a.length)),a}function P(e){return e.toLowerCase()}var D="__rrweb_original__";function _(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?P(t):null}function F(e,t){var r,n;try{n=new URL(e,null!=t?t:window.location.href)}catch(e){return null}var s=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(r=null==s?void 0:s[1])&&void 0!==r?r:null}var B=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,j=/^(?:[a-z+]+:)?\/\//i,U=/^www\..*/i,z=/^(data:)([^,]*),(.*)/i;function W(e,t){return(e||"").replace(B,((e,r,n,s,o,i)=>{var a,l=n||o||i,u=r||s||"";if(!l)return e;if(j.test(l)||U.test(l))return"url(".concat(u).concat(l).concat(u,")");if(z.test(l))return"url(".concat(u).concat(l).concat(u,")");if("/"===l[0])return"url(".concat(u).concat((a=t,(a.indexOf("//")>-1?a.split("/").slice(0,3).join("/"):a.split("/")[0]).split("?")[0]+l)).concat(u,")");var c=t.split("/"),h=l.split("/");for(var p of(c.pop(),h))"."!==p&&(".."===p?c.pop():c.push(p));return"url(".concat(u).concat(c.join("/")).concat(u,")")}))}var q=new Map,V=new Map;function H(e){if(!q.has(e)){var t=e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"");q.set(e,t)}return q.get(e)}function G(e,t){return function(e,t){var r=e;if(V.has(e))return V.get(e);var n=Array.from(t.childNodes),s=[],o=0;if(n.length>1&&e&&"string"==typeof e)for(var i=H(e),a=i.length/e.length,l=1;l<n.length;l++)if(n[l].textContent&&"string"==typeof n[l].textContent){for(var u=H(n[l].textContent),c=3;c<u.length&&(u[c].match(/[a-zA-Z0-9]/)||-1!==u.indexOf(u.substring(0,c),1));c++);for(;c<u.length;c++){var h=u.substring(0,c),p=i.split(h),d=-1;if(2===p.length?d=i.indexOf(h):p.length>2&&""===p[0]&&""!==n[l-1].textContent&&(d=i.indexOf(h,1)),-1!==d){for(var f=Math.floor(d/a);f>0&&f<e.length;){if((o+=1)>50*n.length)return s.push(e),s;var m=H(e.substring(0,f));if(m.length===d){s.push(e.substring(0,f)),e=e.substring(f),i=i.substring(d);break}m.length<d?f+=Math.max(1,Math.floor((d-m.length)/a)):f-=Math.max(1,Math.floor((m.length-d)*a))}break}}}return s.push(e),r&&V.set(r,s),s}(e,t).join("/* rr_split */")}var $,J,Y=1,X=new RegExp("[^a-z0-9-_:]"),K=-2;function Z(){return Y++}var Q=/^[^ \t\n\r\u000c]+/,ee=/^[, \t\n\r\u000c]+/;var te=new WeakMap;function re(e,t){return t&&""!==t.trim()?se(e,t):t}function ne(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function se(e,t){var r=te.get(e);if(r||(r=e.createElement("a"),te.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function oe(e,t,r,n){return n?"src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?re(e,n):"background"!==r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r?function(e,t){if(""===t.trim())return t;var r=0;function n(e){var n,s=e.exec(t.substring(r));return s?(n=s[0],r+=n.length,n):""}for(var s=[];n(ee),!(r>=t.length);){var o=n(Q);if(","===o.slice(-1))o=re(e,o.substring(0,o.length-1)),s.push(o);else{var i="";o=re(e,o);for(var a=!1;;){var l=t.charAt(r);if(""===l){s.push((o+i).trim());break}if(a)")"===l&&(a=!1);else{if(","===l){r+=1,s.push((o+i).trim());break}"("===l&&(a=!0)}i+=l,r+=1}}}return s.join(", ")}(e,n):"style"===r?W(n,se(e)):"object"===t&&"data"===r?re(e,n):n:re(e,n):n}function ie(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function ae(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&ae(M.parentNode(e),t,r);for(var n=e.classList.length;n--;){var s=e.classList[n];if(t.test(s))return!0}return!!r&&ae(M.parentNode(e),t,r)}function le(e,t,r,n){var s;if(I(e)){if(s=e,!M.childNodes(s).length)return!1}else{if(null===M.parentElement(e))return!1;s=M.parentElement(e)}try{if("string"==typeof t){if(n){if(s.closest(".".concat(t)))return!0}else if(s.classList.contains(t))return!0}else if(ae(s,t,n))return!0;if(r)if(n){if(s.closest(r))return!0}else if(s.matches(r))return!0}catch(e){}return!1}function ue(e,t){var{doc:r,mirror:n,blockClass:s,blockSelector:o,needsMask:i,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:u,maskInputFn:c,dataURLOptions:h={},inlineImages:p,recordCanvas:d,keepIframeSrcFn:f,newlyAddedElement:m=!1,cssCaptured:v=!1}=t,y=function(e,t){if(!t.hasNode(e))return;var r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:g.Document,childNodes:[],compatMode:e.compatMode}:{type:g.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:g.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return function(e,t){for(var r,{doc:n,blockClass:s,blockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskInputFn:l,dataURLOptions:u={},inlineImages:c,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:d=!1,rootId:f}=t,m=function(e,t,r){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var n=e.classList.length;n--;){var s=e.classList[n];if(t.test(s))return!0}if(r)return e.matches(r)}catch(e){}return!1}(e,s,o),v=function(e){if(e instanceof HTMLFormElement)return"form";var t=P(e.tagName);return X.test(t)?"div":t}(e),y={},w=e.attributes.length,b=0;b<w;b++){var S=e.attributes[b];ie(v,S.name,S.value)||(y[S.name]=oe(n,v,P(S.name),S.value))}if("link"===v&&i){var C=function(e){return e.href}(e);if(C){var k=ce(n,C);if(!k&&C.includes(".css"))k=ce(n,window.location.origin+"/"+C.replace(window.location.href,""));var x=null;k&&(x=T(k)),x&&(delete y.rel,delete y.href,y._cssText=x)}}if("style"===v&&e.sheet){var O=T(e.sheet);O&&(e.childNodes.length>1&&(O=G(O,e)),y._cssText=O)}if("input"===v||"textarea"===v||"select"===v){var M=e.value,I=e.checked;"radio"!==y.type&&"checkbox"!==y.type&&"submit"!==y.type&&"button"!==y.type&&M?y.value=L({element:e,type:_(e),tagName:v,value:M,maskInputOptions:a,maskInputFn:l}):I&&(y.checked=I)}"option"===v&&(e.selected&&!a.select?y.selected=!0:delete y.selected);if("dialog"===v&&e.open)try{y.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"}catch(e){y.rr_open_mode="modal",y.ph_rr_could_not_detect_modal=!0}if("canvas"===v&&h)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var r=0;r<e.width;r+=50)for(var n=0;n<e.height;n+=50){var s=t.getImageData,o=D in s?s[D]:s;if(new Uint32Array(o.call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(y.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){var E=e.toDataURL(u.type,u.quality),R=n.createElement("canvas");R.width=e.width,R.height=e.height,E!==R.toDataURL(u.type,u.quality)&&(y.rr_dataURL=E)}if("img"===v&&c){$||($=n.createElement("canvas"),J=$.getContext("2d"));var A=e,N=A.currentSrc||A.getAttribute("src")||"<unknown-src>",F=A.crossOrigin,B=()=>{A.removeEventListener("load",B);try{$.width=A.naturalWidth,$.height=A.naturalHeight,J.drawImage(A,0,0),y.rr_dataURL=$.toDataURL(u.type,u.quality)}catch(e){if("anonymous"!==A.crossOrigin)return A.crossOrigin="anonymous",void(A.complete&&0!==A.naturalWidth?B():A.addEventListener("load",B));console.warn("Cannot inline img src=".concat(N,"! Error: ").concat(e))}"anonymous"===A.crossOrigin&&(F?y.crossOrigin=F:A.removeAttribute("crossorigin"))};A.complete&&0!==A.naturalWidth?B():A.addEventListener("load",B)}if("audio"===v||"video"===v){var j=y;j.rr_mediaState=e.paused?"paused":"played",j.rr_mediaCurrentTime=e.currentTime,j.rr_mediaPlaybackRate=e.playbackRate,j.rr_mediaMuted=e.muted,j.rr_mediaLoop=e.loop,j.rr_mediaVolume=e.volume}d||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop));if(m){var{width:U,height:z}=e.getBoundingClientRect();y={class:y.class,rr_width:"".concat(U,"px"),rr_height:"".concat(z,"px")}}"iframe"!==v||p(y.src)||(e.contentDocument||(y.rr_src=y.src),delete y.src);try{customElements.get(v)&&(r=!0)}catch(e){}return{type:g.Element,tagName:v,attributes:y,childNodes:[],isSVG:ne(e)||void 0,needBlock:m,rootId:f,isCustom:r}}(e,{doc:r,blockClass:s,blockSelector:o,inlineStylesheet:a,maskInputOptions:l,maskInputFn:c,dataURLOptions:h,inlineImages:p,recordCanvas:d,keepIframeSrcFn:f,newlyAddedElement:m,rootId:y});case e.TEXT_NODE:return function(e,t){var{needsMask:r,maskTextFn:n,rootId:s,cssCaptured:o}=t,i=M.parentNode(e),a=i&&i.tagName,l="",u="STYLE"===a||void 0,c="SCRIPT"===a||void 0;c?l="SCRIPT_PLACEHOLDER":o||(l=M.textContent(e),u&&l&&(l=W(l,se(t.doc))));!u&&!c&&l&&r&&(l=n?n(l,M.parentElement(e)):l.replace(/[\S]/g,"*"));return{type:g.Text,textContent:l||"",rootId:s}}(e,{doc:r,needsMask:i,maskTextFn:u,rootId:y,cssCaptured:v});case e.CDATA_SECTION_NODE:return{type:g.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:g.Comment,textContent:M.textContent(e)||"",rootId:y};default:return!1}}function ce(e,t){return Array.from(e.styleSheets).find((e=>e.href===t))}function he(e){return null==e?"":e.toLowerCase()}function pe(e,t){var{doc:r,mirror:n,blockClass:s,blockSelector:o,maskTextClass:i,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:h,maskInputFn:p,slimDOMOptions:d,dataURLOptions:f={},inlineImages:m=!1,recordCanvas:v=!1,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:b=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:k=(()=>!1),newlyAddedElement:x=!1,cssCaptured:O=!1}=t,{needsMask:T}=t,{preserveWhiteSpace:A=!0}=t;T||(T=le(e,i,a,void 0===T));var N,L=ue(e,{doc:r,mirror:n,blockClass:s,blockSelector:o,needsMask:T,inlineStylesheet:u,maskInputOptions:c,maskTextFn:h,maskInputFn:p,dataURLOptions:f,inlineImages:m,recordCanvas:v,keepIframeSrcFn:k,newlyAddedElement:x,cssCaptured:O});if(!L)return console.warn(e,"not serialized"),null;N=n.hasNode(e)?n.getId(e):function(e,t){if(t.comment&&e.type===g.Comment)return!0;if(e.type===g.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel&&"script"===e.attributes.as||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===F(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(he(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===he(e.attributes.name)||"icon"===he(e.attributes.rel)||"apple-touch-icon"===he(e.attributes.rel)||"shortcut icon"===he(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&he(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(he(e.attributes.property).match(/^(og|twitter|fb):/)||he(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===he(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===he(e.attributes.name)||"googlebot"===he(e.attributes.name)||"bingbot"===he(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===he(e.attributes.name)||"generator"===he(e.attributes.name)||"framework"===he(e.attributes.name)||"publisher"===he(e.attributes.name)||"progid"===he(e.attributes.name)||he(e.attributes.property).match(/^article:/)||he(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===he(e.attributes.name)||"yandex-verification"===he(e.attributes.name)||"csrf-token"===he(e.attributes.name)||"p:domain_verify"===he(e.attributes.name)||"verify-v1"===he(e.attributes.name)||"verification"===he(e.attributes.name)||"shopify-checkout-api-token"===he(e.attributes.name)))return!0}}return!1}(L,d)||!A&&L.type===g.Text&&!L.textContent.replace(/^\s+|\s+$/gm,"").length?K:Z();var P=Object.assign(L,{id:N});if(n.add(e,P),N===K)return null;y&&y(e);var D=!l;if(P.type===g.Element){D=D&&!P.needBlock,delete P.needBlock;var _=M.shadowRoot(e);_&&R(_)&&(P.isShadowHost=!0)}if((P.type===g.Document||P.type===g.Element)&&D){d.headWhitespace&&P.type===g.Element&&"head"===P.tagName&&(A=!1);var B={doc:r,mirror:n,blockClass:s,blockSelector:o,needsMask:T,maskTextClass:i,maskTextSelector:a,skipChild:l,inlineStylesheet:u,maskInputOptions:c,maskTextFn:h,maskInputFn:p,slimDOMOptions:d,dataURLOptions:f,inlineImages:m,recordCanvas:v,preserveWhiteSpace:A,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:b,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:k,cssCaptured:!1};if(P.type===g.Element&&"textarea"===P.tagName&&void 0!==P.attributes.value);else for(var j of(P.type===g.Element&&void 0!==P.attributes._cssText&&"string"==typeof P.attributes._cssText&&(B.cssCaptured=!0),Array.from(M.childNodes(e)))){var U=pe(j,B);U&&P.childNodes.push(U)}var z=null;if(I(e)&&(z=M.shadowRoot(e)))for(var W of Array.from(M.childNodes(z))){var q=pe(W,B);q&&(R(z)&&(q.isShadow=!0),P.childNodes.push(q))}}var V=M.parentNode(e);return V&&E(V)&&R(V)&&(P.isShadow=!0),P.type===g.Element&&"iframe"===P.tagName&&function(e,t,r){var n=e.contentWindow;if(n){var s,o=!1;try{s=n.document.readyState}catch(e){return}if("complete"===s){var i="about:blank";if(n.location.href!==i||e.src===i||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var a=setTimeout((()=>{o||(t(),o=!0)}),r);e.addEventListener("load",(()=>{clearTimeout(a),o=!0,t()}))}}}(e,(()=>{var t=e.contentDocument;if(t&&w){var r=pe(t,{doc:t,mirror:n,blockClass:s,blockSelector:o,needsMask:T,maskTextClass:i,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:h,maskInputFn:p,slimDOMOptions:d,dataURLOptions:f,inlineImages:m,recordCanvas:v,preserveWhiteSpace:A,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:b,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:k});r&&w(e,r)}}),b),P.type===g.Element&&"link"===P.tagName&&"string"==typeof P.attributes.rel&&("stylesheet"===P.attributes.rel||"preload"===P.attributes.rel&&"string"==typeof P.attributes.href&&"css"===F(P.attributes.href))&&function(e,t,r){var n,s=!1;try{n=e.sheet}catch(e){return}if(!n){var o=setTimeout((()=>{s||(t(),s=!0)}),r);e.addEventListener("load",(()=>{clearTimeout(o),s=!0,t()}))}}(e,(()=>{if(S){var t=pe(e,{doc:r,mirror:n,blockClass:s,blockSelector:o,needsMask:T,maskTextClass:i,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:h,maskInputFn:p,slimDOMOptions:d,dataURLOptions:f,inlineImages:m,recordCanvas:v,preserveWhiteSpace:A,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:b,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:k});t&&S(e,t)}}),C),P}function de(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fe(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var me,ve={exports:{}};function ge(){if(me)return ve.exports;me=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e,blackBright:e,redBright:e,greenBright:e,yellowBright:e,blueBright:e,magentaBright:e,cyanBright:e,whiteBright:e,bgBlackBright:e,bgRedBright:e,bgGreenBright:e,bgYellowBright:e,bgBlueBright:e,bgMagentaBright:e,bgCyanBright:e,bgWhiteBright:e}};return ve.exports=t(),ve.exports.createColors=t,ve.exports}var ye,we,be,Se,Ce,ke,xe=fe(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));function Oe(){if(we)return ye;we=1;var e=ge(),t=xe;class r extends Error{constructor(e,t,n,s,o,i){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),s&&(this.source=s),i&&(this.plugin=i),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,r)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(r){if(!this.source)return"";var n=this.source;null==r&&(r=e.isColorSupported);var s=e=>e,o=e=>e,i=e=>e;if(r){var{bold:a,gray:l,red:u}=e.createColors(!0);o=e=>a(u(e)),s=e=>l(e),t&&(i=e=>t(e))}var c=n.split(/\r?\n/),h=Math.max(this.line-3,0),p=Math.min(this.line+2,c.length),d=String(p).length;return c.slice(h,p).map(((e,t)=>{var r=h+1+t,n=" "+(" "+r).slice(-d)+" | ";if(r===this.line){if(e.length>160){var a=Math.max(0,this.column-20),l=Math.max(this.column+20,this.endColumn+20),u=e.slice(a,l),c=s(n.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,19)).replace(/[^\t]/g," ");return o(">")+s(n)+i(u)+"\n "+c+o("^")}var p=s(n.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return o(">")+s(n)+i(e)+"\n "+p+o("^")}return" "+s(n)+i(e)})).join("\n")}toString(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}return ye=r,r.default=r,ye}function Me(){if(Se)return be;Se=1;var e={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class t{constructor(e){this.builder=e}atrule(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var s=(e.raws.between||"")+(t?";":"");this.builder(r+n+s,e)}}beforeAfter(e,t){var r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,s=0;n&&"root"!==n.type;)s+=1,n=n.parent;if(r.includes("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var i=0;i<s;i++)r+=o}return r}block(e,t){var r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var s=e.nodes[n],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==n||r)}}comment(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(t,r,n){var s;if(n||(n=r),r&&void 0!==(s=t.raws[r]))return s;var o=t.parent;if("before"===n){if(!o||"root"===o.type&&o.first===t)return"";if(o&&"document"===o.type)return""}if(!o)return e[n];var i=t.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[n])return i.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(t,n);var a,l="raw"+((a=n)[0].toUpperCase()+a.slice(1));return this[l]?s=this[l](i,t):i.walk((e=>{if(void 0!==(s=e.raws[r]))return!1})),void 0===s&&(s=e[n]),i.rawCache[n]=s,s}rawBeforeClose(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){var r;return e.walkComments((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){var r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){var t;return e.walk((e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1})),t}rawBeforeRule(e){var t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){var t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){var t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1})),t}rawIndent(e){return e.raws.indent?e.raws.indent:(e.walk((r=>{var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var s=r.raws.before.split("\n");return t=(t=s[s.length-1]).replace(/\S/g,""),!1}})),t);var t}rawSemicolon(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1})),t}rawValue(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}return be=t,t.default=t,be}function Ie(){if(ke)return Ce;ke=1;var e=Me();function t(t,r){new e(r).stringify(t)}return Ce=t,t.default=t,Ce}var Ee,Re,Te,Ae,Ne,Le,Pe,De,_e,Fe,Be,je,Ue,ze,We,qe,Ve,He,Ge,$e,Je,Ye,Xe,Ke,Ze,Qe,et,tt,rt,nt,st,ot,it,at,lt,ut,ct,ht,pt,dt,ft,mt,vt,gt,yt,wt,bt,St,Ct,kt,xt,Ot,Mt,It={};function Et(){return Ee||(Ee=1,It.isClean=Symbol("isClean"),It.my=Symbol("my")),It}function Rt(){if(Te)return Re;Te=1;var e=Oe(),t=Me(),r=Ie(),{isClean:n,my:s}=Et();function o(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"proxyCache"!==n){var s=e[n],i=typeof s;"parent"===n&&"object"===i?t&&(r[n]=t):"source"===n?r[n]=s:Array.isArray(s)?r[n]=s.map((e=>o(e,r))):("object"===i&&null!==s&&(s=o(s)),r[n]=s)}return r}function i(e,t){if(t&&void 0!==t.offset)return t.offset;for(var r=1,n=1,s=0,o=0;o<e.length;o++){if(n===t.line&&r===t.column){s=o;break}"\n"===e[o]?(r=1,n+=1):r+=1}return s}class a{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in this.raws={},this[n]=!1,this[s]=!0,e)if("nodes"===t)for(var r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}after(e){return this.parent.insertAfter(this,e),this}assign(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o(this);for(var r in e)t[r]=e[r];return t}cloneAfter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}error(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var{end:n,start:s}=this.rangeBy(r);return this.source.input.error(t,{column:s.column,line:s.line},{column:n.column,line:n.line},r)}return new e(t)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markClean(){this[n]=!0}markDirty(){if(this[n]){this[n]=!1;for(var e=this;e=e.parent;)e[n]=!1}}next(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}positionBy(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var r="document"in this.source.input?this.source.input.document:this.source.input.css,n=r.slice(i(r,this.source.start),i(r,this.source.end)).indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t}positionInside(e){for(var t=this.source.start.column,r=this.source.start.line,n=("document"in this.source.input?this.source.input.document:this.source.input.css),s=i(n,this.source.start),o=s+e,a=s;a<o;a++)"\n"===n[a]?(t=1,r+=1):t+=1;return{column:t,line:r}}prev(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}rangeBy(e){var t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var n="document"in this.source.input?this.source.input.document:this.source.input.css,s=n.slice(i(n,this.source.start),i(n,this.source.end)).indexOf(e.word);-1!==s&&(t=this.positionInside(s),r=this.positionInside(s+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,r){return(new t).raw(this,e,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){for(var e=this,t=!1,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];for(var o of n)o===this?t=!0:t?(this.parent.insertAfter(e,o),e=o):this.parent.insertBefore(e,o);t||this.remove()}return this}root(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){var r={},n=null==t;t=t||new Map;var s=0;for(var o in this)if(Object.prototype.hasOwnProperty.call(this,o)&&"parent"!==o&&"proxyCache"!==o){var i=this[o];if(Array.isArray(i))r[o]=i.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof i&&i.toJSON)r[o]=i.toJSON(null,t);else if("source"===o){var a=t.get(i.input);null==a&&(a=s,t.set(i.input,s),s++),r[o]={end:i.end,inputId:a,start:i.start}}else r[o]=i}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;e.stringify&&(e=e.stringify);var t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){var n={node:this};for(var s in r)n[s]=r[s];return e.warn(t,n)}get proxyOf(){return this}}return Re=a,a.default=a,Re}function Tt(){if(Ne)return Ae;Ne=1;var e=Rt();class t extends e{constructor(e){super(e),this.type="comment"}}return Ae=t,t.default=t,Ae}function At(){if(Pe)return Le;Pe=1;var e=Rt();class t extends e{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e=r(r({},e),{},{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}return Le=t,t.default=t,Le}function Nt(){if(_e)return De;_e=1;var e,t,r,n,s=Tt(),o=At(),i=Rt(),{isClean:a,my:l}=Et();function u(e){return e.map((e=>(e.nodes&&(e.nodes=u(e.nodes)),delete e.source,e)))}function c(e){if(e[a]=!1,e.proxyOf.nodes)for(var t of e.proxyOf.nodes)c(t)}class h extends i{append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n of t){var s=this.normalize(n,this.last);for(var o of s)this.proxyOf.nodes.push(o)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(var t of this.nodes)t.cleanRaws(e)}each(e){if(this.proxyOf.nodes){for(var t,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[n]+=1;return delete this.indexes[n],r}}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e[t](...n.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e)))}:"every"===t||"some"===t?r=>e[t]((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return r(e.toProxy(),...n)})):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){var r,n=this.index(e),s=this.normalize(t,this.proxyOf.nodes[n]).reverse();for(var o of(n=this.index(e),s))this.proxyOf.nodes.splice(n+1,0,o);for(var i in this.indexes)n<(r=this.indexes[i])&&(this.indexes[i]=r+s.length);return this.markDirty(),this}insertBefore(e,t){var r,n=this.index(e),s=0===n&&"prepend",o=this.normalize(t,this.proxyOf.nodes[n],s).reverse();for(var i of(n=this.index(e),o))this.proxyOf.nodes.splice(n,0,i);for(var a in this.indexes)n<=(r=this.indexes[a])&&(this.indexes[a]=r+o.length);return this.markDirty(),this}normalize(r,i){if("string"==typeof r)r=u(t(r).nodes);else if(void 0===r)r=[];else if(Array.isArray(r))for(var p of r=r.slice(0))p.parent&&p.parent.removeChild(p,"ignore");else if("root"===r.type&&"document"!==this.type)for(var d of r=r.nodes.slice(0))d.parent&&d.parent.removeChild(d,"ignore");else if(r.type)r=[r];else if(r.prop){if(void 0===r.value)throw new Error("Value field is missed in node creation");"string"!=typeof r.value&&(r.value=String(r.value)),r=[new o(r)]}else if(r.selector||r.selectors)r=[new n(r)];else if(r.name)r=[new e(r)];else{if(!r.text)throw new Error("Unknown node type in node creation");r=[new s(r)]}var f=r.map((e=>(e[l]||h.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[a]&&c(e),e.raws||(e.raws={}),void 0===e.raws.before&&i&&void 0!==i.raws.before&&(e.raws.before=i.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)));return f}prepend(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n of t=t.reverse()){var s=this.normalize(n,this.first,"prepend").reverse();for(var o of s)this.proxyOf.nodes.unshift(o);for(var i in this.indexes)this.indexes[i]=this.indexes[i]+s.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(var e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){var t;for(var r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{var n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return h.registerParse=e=>{t=e},h.registerRule=e=>{n=e},h.registerAtRule=t=>{e=t},h.registerRoot=e=>{r=e},De=h,h.default=h,h.rebuild=t=>{"atrule"===t.type?Object.setPrototypeOf(t,e.prototype):"rule"===t.type?Object.setPrototypeOf(t,n.prototype):"decl"===t.type?Object.setPrototypeOf(t,o.prototype):"comment"===t.type?Object.setPrototypeOf(t,s.prototype):"root"===t.type&&Object.setPrototypeOf(t,r.prototype),t[l]=!0,t.nodes&&t.nodes.forEach((e=>{h.rebuild(e)}))},De}function Lt(){if(Be)return Fe;Be=1;var e=Nt();class t extends e{constructor(e){super(e),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}}return Fe=t,t.default=t,e.registerAtRule(t),Fe}function Pt(){if(Ue)return je;Ue=1;var e,t,n=Nt();class s extends n{constructor(e){super(r({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(new t,this,r).stringify()}}return s.registerLazyResult=t=>{e=t},s.registerProcessor=e=>{t=e},je=s,s.default=s,je}function Dt(){if(We)return ze;We=1;return ze={nanoid:function(){for(var e="",t=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:21);t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},customAlphabet:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){for(var r="",n=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t);n--;)r+=e[Math.random()*e.length|0];return r}}},ze}function _t(){if(Ve)return qe;Ve=1;var{existsSync:e,readFileSync:t}=xe,{dirname:r,join:n}=xe,{SourceMapConsumer:s,SourceMapGenerator:o}=xe;class i{constructor(e,t){if(!1!==t.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,s=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=r(this.mapFile)),s&&(this.text=s)}}consumer(){return this.consumerCache||(this.consumerCache=new s(this.text)),this.consumerCache}decodeInline(e){var t=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(t)return decodeURIComponent(e.substr(t[0].length));var r,n=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(n)return r=e.substr(n[0].length),Buffer?Buffer.from(r,"base64").toString():window.atob(r);var s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){var t=e.match(/\/\*\s*# sourceMappingURL=/g);if(t){var r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}}loadFile(n){if(this.root=r(n),e(n))return this.mapFile=n,t(n,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof s)return o.fromSourceMap(t).toString();if(t instanceof o)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}var i=t(e);if(i){var a=this.loadFile(i);if(!a)throw new Error("Unable to load previous source map: "+i.toString());return a}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var l=this.annotation;return e&&(l=n(r(e),l)),this.loadFile(l)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return qe=i,i.default=i,qe}function Ft(){if(Ge)return He;Ge=1;var{nanoid:e}=Dt(),{isAbsolute:t,resolve:n}=xe,{SourceMapConsumer:s,SourceMapGenerator:o}=xe,{fileURLToPath:i,pathToFileURL:a}=xe,l=Oe(),u=_t(),c=xe,h=Symbol("fromOffsetCache"),p=Boolean(s&&o),d=Boolean(n&&t);class f{constructor(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==r||"object"==typeof r&&!r.toString)throw new Error("PostCSS received ".concat(r," instead of CSS string"));if(this.css=r.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,s.document&&(this.document=s.document.toString()),s.from&&(!d||/^\w+:\/\//.test(s.from)||t(s.from)?this.file=s.from:this.file=n(s.from)),d&&p){var o=new u(this.css,s);if(o.text){this.map=o;var i=o.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+e(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r){var n,s,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&"object"==typeof t){var u=t,c=r;if("number"==typeof u.offset){var h=this.fromOffset(u.offset);t=h.line,r=h.col}else t=u.line,r=u.column;if("number"==typeof c.offset){var p=this.fromOffset(c.offset);s=p.line,n=p.col}else s=c.line,n=c.column}else if(!r){var d=this.fromOffset(t);t=d.line,r=d.col}var f=this.origin(t,r,s,n);return(o=f?new l(e,void 0===f.endLine?f.line:{column:f.column,line:f.line},void 0===f.endLine?f.column:{column:f.endColumn,line:f.endLine},f.source,f.file,i.plugin):new l(e,void 0===s?t:{column:r,line:t},void 0===s?r:{column:n,line:s},this.css,this.file,i.plugin)).input={column:r,endColumn:n,endLine:s,line:t,source:this.css},this.file&&(a&&(o.input.url=a(this.file).toString()),o.input.file=this.file),o}fromOffset(e){var t;if(this[h])t=this[h];else{var r=this.css.split("\n");t=new Array(r.length);for(var n=0,s=0,o=r.length;s<o;s++)t[s]=n,n+=r[s].length+1;this[h]=t}var i=0;if(e>=t[t.length-1])i=t.length-1;else for(var a,l=t.length-2;i<l;)if(e<t[a=i+(l-i>>1)])l=a-1;else{if(!(e>=t[a+1])){i=a;break}i=a+1}return{col:e-t[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:n(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,r,n,s){if(!this.map)return!1;var o,l,u=this.map.consumer(),c=u.originalPositionFor({column:r,line:e});if(!c.source)return!1;"number"==typeof n&&(o=u.originalPositionFor({column:s,line:n})),l=t(c.source)?a(c.source):new URL(c.source,this.map.consumer().sourceRoot||a(this.map.mapFile));var h={column:c.column,endColumn:o&&o.column,endLine:o&&o.line,line:c.line,url:l.toString()};if("file:"===l.protocol){if(!i)throw new Error("file: protocol is not available in this PostCSS build");h.file=i(l)}var p=u.sourceContentFor(c.source);return p&&(h.source=p),h}toJSON(){var e={};for(var t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=r({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}}return He=f,f.default=f,c&&c.registerInput&&c.registerInput(f),He}function Bt(){if(Je)return $e;Je=1;var e,t,r=Nt();class n extends r{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){var n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(var s of n)s.raws.before=t.raws.before;return n}removeChild(e,t){var r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(new t,this,r).stringify()}}return n.registerLazyResult=t=>{e=t},n.registerProcessor=e=>{t=e},$e=n,n.default=n,r.registerRoot(n),$e}function jt(){if(Xe)return Ye;Xe=1;var e={comma:t=>e.split(t,[","],!0),space:t=>e.split(t,[" ","\n","\t"]),split(e,t,r){var n=[],s="",o=!1,i=0,a=!1,l="",u=!1;for(var c of e)u?u=!1:"\\"===c?u=!0:a?c===l&&(a=!1):'"'===c||"'"===c?(a=!0,l=c):"("===c?i+=1:")"===c?i>0&&(i-=1):0===i&&t.includes(c)&&(o=!0),o?(""!==s&&n.push(s.trim()),s="",o=!1):s+=c;return(r||""!==s)&&n.push(s.trim()),n}};return Ye=e,e.default=e,Ye}function Ut(){if(Ze)return Ke;Ze=1;var e=Nt(),t=jt();class r extends e{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return t.comma(this.selector)}set selectors(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}return Ke=r,r.default=r,e.registerRule(r),Ke}function zt(){if(rt)return tt;rt=1;var{dirname:e,relative:t,resolve:r,sep:n}=xe,{SourceMapConsumer:s,SourceMapGenerator:o}=xe,{pathToFileURL:i}=xe,a=Ft(),l=Boolean(s&&o),u=Boolean(e&&r&&t&&n);return tt=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(var t of this.previous()){var r=this.toUrl(this.path(t.file)),n=t.root||e(t.file),o=void 0;!1===this.mapOpts.sourcesContent?(o=new s(t.text)).sourcesContent&&(o.sourcesContent=null):o=t.consumer(),this.map.applySourceMap(o,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),u&&l&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,(t=>{e+=t})),[e]}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=o.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0});var e,t,r=1,n=1,s="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(i.generated.line=r,i.generated.column=n-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,this.map.addMapping(i))),(t=o.match(/\n/g))?(r+=t.length,e=o.lastIndexOf("\n"),n=o.length-e):n+=o.length,a&&"start"!==l){var u=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===u.last&&!u.raws.semicolon||(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=r,i.generated.column=n-2,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,i.generated.line=r,i.generated.column=n-1,this.map.addMapping(i)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(n){if(this.mapOpts.absolute)return n;if(60===n.charCodeAt(0))return n;if(/^\w+:\/\//.test(n))return n;var s=this.memoizedPaths.get(n);if(s)return s;var o=this.opts.to?e(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(o=e(r(o,this.mapOpts.annotation)));var i=t(o,n);return this.memoizedPaths.set(n,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){var t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{var e=new a(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){var e={};if(this.root)this.root.walk((t=>{if(t.source){var r=t.source.input.from;if(r&&!e[r]){e[r]=!0;var n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){var t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){var t=this.memoizedFileURLs.get(e);if(t)return t;if(i){var r=i(e).toString();return this.memoizedFileURLs.set(e,r),r}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){var t=this.memoizedURLs.get(e);if(t)return t;"\\"===n&&(e=e.replace(/\\/g,"/"));var r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},tt}function Wt(){if(st)return nt;st=1;var e="'".charCodeAt(0),t='"'.charCodeAt(0),r="\\".charCodeAt(0),n="/".charCodeAt(0),s="\n".charCodeAt(0),o=" ".charCodeAt(0),i="\f".charCodeAt(0),a="\t".charCodeAt(0),l="\r".charCodeAt(0),u="[".charCodeAt(0),c="]".charCodeAt(0),h="(".charCodeAt(0),p=")".charCodeAt(0),d="{".charCodeAt(0),f="}".charCodeAt(0),m=";".charCodeAt(0),v="*".charCodeAt(0),g=":".charCodeAt(0),y="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,b=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,S=/.[\r\n"'(/\\]/,C=/[\da-f]/i;return nt=function(k){var x,O,M,I,E,R,T,A,N,L,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=k.css.valueOf(),_=P.ignoreErrors,F=D.length,B=0,j=[],U=[];function z(e){throw k.error("Unclosed "+e,B)}return{back:function(e){U.push(e)},endOfFile:function(){return 0===U.length&&B>=F},nextToken:function(k){if(U.length)return U.pop();if(!(B>=F)){var P=!!k&&k.ignoreUnclosed;switch(x=D.charCodeAt(B)){case s:case o:case a:case l:case i:I=B;do{I+=1,x=D.charCodeAt(I)}while(x===o||x===s||x===a||x===l||x===i);R=["space",D.slice(B,I)],B=I-1;break;case u:case c:case d:case f:case g:case m:case p:var W=String.fromCharCode(x);R=[W,W,B];break;case h:if(L=j.length?j.pop()[1]:"",N=D.charCodeAt(B+1),"url"===L&&N!==e&&N!==t&&N!==o&&N!==s&&N!==a&&N!==i&&N!==l){I=B;do{if(T=!1,-1===(I=D.indexOf(")",I+1))){if(_||P){I=B;break}z("bracket")}for(A=I;D.charCodeAt(A-1)===r;)A-=1,T=!T}while(T);R=["brackets",D.slice(B,I+1),B,I],B=I}else I=D.indexOf(")",B+1),O=D.slice(B,I+1),-1===I||S.test(O)?R=["(","(",B]:(R=["brackets",O,B,I],B=I);break;case e:case t:E=x===e?"'":'"',I=B;do{if(T=!1,-1===(I=D.indexOf(E,I+1))){if(_||P){I=B+1;break}z("string")}for(A=I;D.charCodeAt(A-1)===r;)A-=1,T=!T}while(T);R=["string",D.slice(B,I+1),B,I],B=I;break;case y:w.lastIndex=B+1,w.test(D),I=0===w.lastIndex?D.length-1:w.lastIndex-2,R=["at-word",D.slice(B,I+1),B,I],B=I;break;case r:for(I=B,M=!0;D.charCodeAt(I+1)===r;)I+=1,M=!M;if(x=D.charCodeAt(I+1),M&&x!==n&&x!==o&&x!==s&&x!==a&&x!==l&&x!==i&&(I+=1,C.test(D.charAt(I)))){for(;C.test(D.charAt(I+1));)I+=1;D.charCodeAt(I+1)===o&&(I+=1)}R=["word",D.slice(B,I+1),B,I],B=I;break;default:x===n&&D.charCodeAt(B+1)===v?(0===(I=D.indexOf("*/",B+2)+1)&&(_||P?I=D.length:z("comment")),R=["comment",D.slice(B,I+1),B,I],B=I):(b.lastIndex=B+1,b.test(D),I=0===b.lastIndex?D.length-1:b.lastIndex-2,R=["word",D.slice(B,I+1),B,I],j.push(R),B=I)}return B++,R}},position:function(){return B}}},nt}function qt(){if(it)return ot;it=1;var e=Lt(),t=Tt(),r=At(),n=Bt(),s=Ut(),o=Wt(),i={empty:!0,space:!0};return ot=class{constructor(e){this.input=e,this.root=new n,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(t){var r,n,s,o=new e;o.name=t[1].slice(1),""===o.name&&this.unnamedAtrule(o,t),this.init(o,t[2]);for(var i=!1,a=!1,l=[],u=[];!this.tokenizer.endOfFile();){if("("===(r=(t=this.tokenizer.nextToken())[0])||"["===r?u.push("("===r?")":"]"):"{"===r&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),0===u.length){if(";"===r){o.source.end=this.getPosition(t[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===r){a=!0;break}if("}"===r){if(l.length>0){for(n=l[s=l.length-1];n&&"space"===n[0];)n=l[--s];n&&(o.source.end=this.getPosition(n[3]||n[2]),o.source.end.offset++)}this.end(t);break}l.push(t)}else l.push(t);if(this.tokenizer.endOfFile()){i=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(o.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(o,"params",l),i&&(t=l[l.length-1],o.source.end=this.getPosition(t[3]||t[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}checkMissedSemicolon(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,s=t-1;s>=0&&("space"===(r=e[s])[0]||2!==(n+=1));s--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}colon(e){var t,r,n,s=0;for(var[o,i]of e.entries()){if("("===(n=(r=i)[0])&&(s+=1),")"===n&&(s-=1),0===s&&":"===n){if(t){if("word"===t[0]&&"progid"===t[1])continue;return o}this.doubleColon(r)}t=r}return!1}comment(e){var r=new t;this.init(r,e[2]),r.source.end=this.getPosition(e[3]||e[2]),r.source.end.offset++;var n=e[1].slice(2,-2);if(/^\s*$/.test(n))r.text="",r.raws.left=n,r.raws.right="";else{var s=n.match(/^(\s*)([^]*\S)(\s*)$/);r.text=s[2],r.raws.left=s[1],r.raws.right=s[3]}}createTokenizer(){this.tokenizer=o(this.input)}decl(e,t){var n=new r;this.init(n,e[0][2]);var s,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(o[3]||o[2]||function(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(":"===(s=e.shift())[0]){n.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),n.raws.between+=s[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));for(var a,l=[];e.length&&("space"===(a=e[0][0])||"comment"===a);)l.push(e.shift());this.precheckMissedSemicolon(e);for(var u=e.length-1;u>=0;u--){if("!important"===(s=e[u])[1].toLowerCase()){n.important=!0;var c=this.stringFrom(e,u);" !important"!==(c=this.spacesFromEnd(e)+c)&&(n.raws.important=c);break}if("important"===s[1].toLowerCase()){for(var h=e.slice(0),p="",d=u;d>0;d--){var f=h[d][0];if(p.trim().startsWith("!")&&"space"!==f)break;p=h.pop()[1]+p}p.trim().startsWith("!")&&(n.important=!0,n.raws.important=p,e=h)}if("space"!==s[0]&&"comment"!==s[0])break}var m=e.some((e=>"space"!==e[0]&&"comment"!==e[0]));m&&(n.raws.between+=l.map((e=>e[1])).join(""),l=[]),this.raw(n,"value",l.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){var t=new s;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){for(var t=!1,r=null,n=!1,s=null,o=[],i=e[1].startsWith("--"),a=[],l=e;l;){if(r=l[0],a.push(l),"("===r||"["===r)s||(s=l),o.push("("===r?")":"]");else if(i&&n&&"{"===r)s||(s=l),o.push("}");else if(0===o.length){if(";"===r){if(n)return void this.decl(a,i);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(n=!0)}else r===o[o.length-1]&&(o.pop(),0===o.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&n){if(!i)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,i)}else this.unknownWord(a)}parse(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){for(var s,o,a,l,u=r.length,c="",h=!0,p=0;p<u;p+=1)"space"!==(o=(s=r[p])[0])||p!==u-1||n?"comment"===o?(l=r[p-1]?r[p-1][0]:"empty",a=r[p+1]?r[p+1][0]:"empty",i[l]||i[a]||","===c.slice(-1)?h=!1:c+=s[1]):c+=s[1]:h=!1;if(!h){var d=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:d,value:c}}e[t]=c}rule(e){e.pop();var t=new s;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}}function Vt(){if(lt)return at;lt=1;var e=Nt(),t=Ft(),r=qt();function n(e,n){var s=new t(e,n),o=new r(s);try{o.parse()}catch(e){throw"production"!==process.env.NODE_ENV&&"CssSyntaxError"===e.name&&n&&n.from&&(/\.scss$/i.test(n.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(n.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(n.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return o.root}return at=n,n.default=n,e.registerParse(n),at}function Ht(){if(ct)return ut;ct=1;class e{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.type="warning",this.text=e,t.node&&t.node.source){var r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return ut=e,e.default=e,ut}function Gt(){if(pt)return ht;pt=1;var e=Ht();class t{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);var n=new e(t,r);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}return ht=t,t.default=t,ht}function $t(){if(ft)return dt;ft=1;var e={};return dt=function(t){e[t]||(e[t]=!0,"undefined"!=typeof console&&console.warn&&console.warn(t))}}function Jt(){if(vt)return mt;vt=1;var e=Nt(),t=Pt(),n=zt(),o=Vt(),i=Gt(),a=Bt(),l=Ie(),{isClean:u,my:c}=Et(),h=$t(),p={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},m=0;function v(e){return"object"==typeof e&&"function"==typeof e.then}function g(e){var t=!1,r=p[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,m,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,m,r+"Exit"]:[r,r+"Exit"]}function y(e){return{eventIndex:0,events:"document"===e.type?["Document",m,"DocumentExit"]:"root"===e.type?["Root",m,"RootExit"]:g(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function w(e){return e[u]=!1,e.nodes&&e.nodes.forEach((e=>w(e))),e}var b={};class S{constructor(t,n,s){var a;if(this.stringified=!1,this.processed=!1,"object"!=typeof n||null===n||"root"!==n.type&&"document"!==n.type)if(n instanceof S||n instanceof i)a=w(n.root),n.map&&(void 0===s.map&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=n.map);else{var l=o;s.syntax&&(l=s.syntax.parse),s.parser&&(l=s.parser),l.parse&&(l=l.parse);try{a=l(n,s)}catch(e){this.processed=!0,this.error=e}a&&!a[c]&&e.rebuild(a)}else a=w(n);this.result=new i(t,a,s),this.helpers=r(r({},b),{},{postcss:b,result:this.result}),this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?r(r({},e),e.prepare(this.result)):e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){var r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(r.postcssVersion&&"production"!==process.env.NODE_ENV){var n=r.postcssPlugin,s=r.postcssVersion,o=this.result.processor.version,i=s.split("."),a=o.split(".");(i[0]!==a[0]||parseInt(i[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+n+" uses "+s+". Perhaps this is the source of the error below.")}}else e.plugin=r.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};var e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(var t of this.plugins)if("object"==typeof t)for(var r in t){if(!d[r]&&/^[A-Z]/.test(r))throw new Error("Unknown event ".concat(r," in ").concat(t.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!f[r])if("object"==typeof t[r])for(var n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){var e=this;return s((function*(){e.plugin=0;for(var t=0;t<e.plugins.length;t++){var r=e.plugins[t],n=e.runOnRoot(r);if(v(n))try{yield n}catch(t){throw e.handleError(t)}}if(e.prepareVisitors(),e.hasListener){for(var s=e.result.root;!s[u];){s[u]=!0;for(var o=[y(s)];o.length>0;){var i=e.visitTick(o);if(v(i))try{yield i}catch(t){var a=o[o.length-1].node;throw e.handleError(t,a)}}}if(e.listeners.OnceExit){var l=function*(t,r){e.result.lastPlugin=r;try{if("document"===s.type){var n=s.nodes.map((r=>t(r,e.helpers)));yield Promise.all(n)}else yield t(s,e.helpers)}catch(t){throw e.handleError(t)}};for(var[c,h]of e.listeners.OnceExit)yield*l(h,c)}}return e.processed=!0,e.stringify()}))()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){var t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return v(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=l;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r=new n(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var e of this.plugins){if(v(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var t=this.result.root;!t[u];)t[u]=!0,this.walkSync(t);if(this.listeners.OnceExit)if("document"===t.type)for(var r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(e,t){return"production"!==process.env.NODE_ENV&&("from"in this.opts||h("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(var[r,n]of e){this.result.lastPlugin=r;var s=void 0;try{s=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(v(s))throw this.getAsyncError()}}visitTick(e){var t=e[e.length-1],{node:r,visitors:n}=t;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&t.visitorIndex<n.length){var[s,o]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return o(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){for(var i,a=t.iterator;i=r.nodes[r.indexes[a]];)if(r.indexes[a]+=1,!i[u])return i[u]=!0,void e.push(y(i));t.iterator=0,delete r.indexes[a]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,c===m)return void(r.nodes&&r.nodes.length&&(r[u]=!0,t.iterator=r.getIterator()));if(this.listeners[c])return void(t.visitors=this.listeners[c])}e.pop()}else e.pop()}walkSync(e){e[u]=!0;var t=g(e);for(var r of t)if(r===m)e.nodes&&e.each((e=>{e[u]||this.walkSync(e)}));else{var n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return S.registerPostcss=e=>{b=e},mt=S,S.default=S,a.registerLazyResult(S),t.registerLazyResult(S),mt}function Yt(){if(bt)return wt;bt=1;var e=Pt(),t=Jt(),r=function(){if(yt)return gt;yt=1;var e=zt(),t=Vt(),r=Gt(),n=Ie(),s=$t();class o{constructor(t,s,o){var i;s=s.toString(),this.stringified=!1,this._processor=t,this._css=s,this._opts=o,this._map=void 0;var a=n;this.result=new r(this._processor,i,this._opts),this.result.css=s;var l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});var u=new e(a,i,this._opts,s);if(u.isMap()){var[c,h]=u.generate();c&&(this.result.css=c),h&&(this.result.map=h)}else u.clearAnnotation(),this.result.css=u.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return"production"!==process.env.NODE_ENV&&("from"in this._opts||s("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;var e,r=t;try{e=r(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}}return gt=o,o.default=o,gt}(),n=Bt();class s{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.version="8.5.1",this.plugins=this.normalize(e)}normalize(e){var t=[];for(var r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");if("production"!==process.env.NODE_ENV)throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}return t}process(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||n.parser||n.stringifier||n.syntax?new t(this,e,n):new r(this,e,n)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}return wt=s,s.default=s,n.registerProcessor(s),e.registerProcessor(s),wt}function Xt(){if(Ct)return St;Ct=1;var e=Lt(),t=Tt(),n=Nt(),s=Oe(),o=At(),a=Pt(),c=function(){if(et)return Qe;et=1;var e=Lt(),t=Tt(),n=At(),s=Ft(),o=_t(),a=Bt(),c=Ut();function h(p,d){if(Array.isArray(p))return p.map((e=>h(e)));var{inputs:f}=p,m=i(p,l);if(f)for(var v of(d=[],f)){var g=r(r({},v),{},{__proto__:s.prototype});g.map&&(g.map=r(r({},g.map),{},{__proto__:o.prototype})),d.push(g)}if(m.nodes&&(m.nodes=p.nodes.map((e=>h(e,d)))),m.source){var y=m.source,{inputId:w}=y,b=i(y,u);m.source=b,null!=w&&(m.source.input=d[w])}if("root"===m.type)return new a(m);if("decl"===m.type)return new n(m);if("rule"===m.type)return new c(m);if("comment"===m.type)return new t(m);if("atrule"===m.type)return new e(m);throw new Error("Unknown node type: "+p.type)}return Qe=h,h.default=h,Qe}(),h=Ft(),p=Jt(),d=jt(),f=Rt(),m=Vt(),v=Yt(),g=Gt(),y=Bt(),w=Ut(),b=Ie(),S=Ht();function C(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new v(t)}return C.plugin=function(e,t){var r,n=!1;function s(){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));var r=t(...arguments);return r.postcssPlugin=e,r.postcssVersion=(new v).version,r}return Object.defineProperty(s,"postcss",{get:()=>(r||(r=s()),r)}),s.process=function(e,t,r){return C([s(r)]).process(e,t)},s},C.stringify=b,C.parse=m,C.fromJSON=c,C.list=d,C.comment=e=>new t(e),C.atRule=t=>new e(t),C.decl=e=>new o(e),C.rule=e=>new w(e),C.root=e=>new y(e),C.document=e=>new a(e),C.CssSyntaxError=s,C.Declaration=o,C.Container=n,C.Processor=v,C.Document=a,C.Comment=t,C.Warning=S,C.AtRule=e,C.Result=g,C.Input=h,C.Rule=w,C.Root=y,C.Node=f,p.registerPostcss(C),St=C,C.default=C,St}!function(){if(Mt)return Ot;Mt=1;var{Input:e}=Xt(),t=function(){if(xt)return kt;xt=1;var e=Tt(),t=qt(),r=Wt();return kt=class extends t{checkMissedSemicolon(){}comment(t){var r=new e;this.init(r,t[2]);var n=this.input.fromOffset(t[3])||this.input.fromOffset(this.input.css.length-1);r.source.end={column:n.col,line:n.line,offset:t[3]+1};var s=t[1].slice(2);if("*/"===s.slice(-2)&&(s=s.slice(0,-2)),/^\s*$/.test(s))r.text="",r.raws.left=s,r.raws.right="";else{var o=s.match(/^(\s*)([^]*\S)(\s*)$/);r.text=o[2],r.raws.left=o[1],r.raws.right=o[3]}}createTokenizer(){this.tokenizer=r(this.input,{ignoreErrors:!0})}decl(e){e.length>1&&e.some((e=>"word"===e[0]))&&super.decl(e)}doubleColon(){}endFile(){for(this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.current.parent;)this.current=this.current.parent,this.current.raws.after="";this.root.source.end=this.getPosition(this.tokenizer.position())}precheckMissedSemicolon(e){var t=this.colon(e);if(!1!==t){var r,n;for(r=t-1;r>=0&&"word"!==e[r][0];r--);if(!(0===r||r<0)){for(n=r-1;n>=0;n--)if("space"!==e[n][0]){n+=1;break}var s=e.slice(r),o=e.slice(n,r);e.splice(n,e.length-n),this.spaces=o.map((e=>e[1])).join(""),this.decl(s)}}}unclosedBracket(){}unexpectedClose(){this.current.raws.after+="}"}unknownWord(e){this.spaces+=e.map((e=>e[1])).join("")}unnamedAtrule(e){e.name=""}}}();Ot=function(r,n){var s=new e(r,n),o=new t(s);return o.parse(),o.root}}();var Kt=de(Xt());Kt.stringify,Kt.fromJSON,Kt.plugin,Kt.parse,Kt.list,Kt.document,Kt.comment,Kt.atRule,Kt.rule,Kt.decl,Kt.root,Kt.CssSyntaxError,Kt.Declaration,Kt.Container,Kt.Processor,Kt.Document,Kt.Comment,Kt.Warning,Kt.AtRule,Kt.Result,Kt.Input,Kt.Rule,Kt.Root,Kt.Node;var Zt=Object.defineProperty,Qt=(e,t,r)=>((e,t,r)=>t in e?Zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tr(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var rr,nr={exports:{}};function sr(){if(rr)return nr.exports;rr=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e,blackBright:e,redBright:e,greenBright:e,yellowBright:e,blueBright:e,magentaBright:e,cyanBright:e,whiteBright:e,bgBlackBright:e,bgRedBright:e,bgGreenBright:e,bgYellowBright:e,bgBlueBright:e,bgMagentaBright:e,bgCyanBright:e,bgWhiteBright:e}};return nr.exports=t(),nr.exports.createColors=t,nr.exports}var or,ir,ar,lr,ur,cr,hr=tr(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));function pr(){if(ir)return or;ir=1;var e=sr(),t=hr;class r extends Error{constructor(e,t,n,s,o,i){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),s&&(this.source=s),i&&(this.plugin=i),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,r)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(r){if(!this.source)return"";var n=this.source;null==r&&(r=e.isColorSupported);var s=e=>e,o=e=>e,i=e=>e;if(r){var{bold:a,gray:l,red:u}=e.createColors(!0);o=e=>a(u(e)),s=e=>l(e),t&&(i=e=>t(e))}var c=n.split(/\r?\n/),h=Math.max(this.line-3,0),p=Math.min(this.line+2,c.length),d=String(p).length;return c.slice(h,p).map(((e,t)=>{var r=h+1+t,n=" "+(" "+r).slice(-d)+" | ";if(r===this.line){if(e.length>160){var a=Math.max(0,this.column-20),l=Math.max(this.column+20,this.endColumn+20),u=e.slice(a,l),c=s(n.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,19)).replace(/[^\t]/g," ");return o(">")+s(n)+i(u)+"\n "+c+o("^")}var p=s(n.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return o(">")+s(n)+i(e)+"\n "+p+o("^")}return" "+s(n)+i(e)})).join("\n")}toString(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}return or=r,r.default=r,or}function dr(){if(lr)return ar;lr=1;var e={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class t{constructor(e){this.builder=e}atrule(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var s=(e.raws.between||"")+(t?";":"");this.builder(r+n+s,e)}}beforeAfter(e,t){var r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,s=0;n&&"root"!==n.type;)s+=1,n=n.parent;if(r.includes("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var i=0;i<s;i++)r+=o}return r}block(e,t){var r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var s=e.nodes[n],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==n||r)}}comment(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(t,r,n){var s;if(n||(n=r),r&&void 0!==(s=t.raws[r]))return s;var o=t.parent;if("before"===n){if(!o||"root"===o.type&&o.first===t)return"";if(o&&"document"===o.type)return""}if(!o)return e[n];var i=t.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[n])return i.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(t,n);var a,l="raw"+((a=n)[0].toUpperCase()+a.slice(1));return this[l]?s=this[l](i,t):i.walk((e=>{if(void 0!==(s=e.raws[r]))return!1})),void 0===s&&(s=e[n]),i.rawCache[n]=s,s}rawBeforeClose(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){var r;return e.walkComments((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){var r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){var t;return e.walk((e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1})),t}rawBeforeRule(e){var t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){var t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){var t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1})),t}rawIndent(e){return e.raws.indent?e.raws.indent:(e.walk((r=>{var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var s=r.raws.before.split("\n");return t=(t=s[s.length-1]).replace(/\S/g,""),!1}})),t);var t}rawSemicolon(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1})),t}rawValue(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}return ar=t,t.default=t,ar}function fr(){if(cr)return ur;cr=1;var e=dr();function t(t,r){new e(r).stringify(t)}return ur=t,t.default=t,ur}var mr,vr,gr,yr,wr,br,Sr,Cr,kr,xr,Or,Mr,Ir,Er,Rr,Tr,Ar,Nr,Lr,Pr,Dr,_r,Fr,Br,jr,Ur,zr,Wr,qr,Vr,Hr,Gr,$r,Jr,Yr,Xr,Kr,Zr,Qr,en,tn,rn,nn,sn,on,an,ln,un,cn,hn,pn,dn,fn,mn={};function vn(){return mr||(mr=1,mn.isClean=Symbol("isClean"),mn.my=Symbol("my")),mn}function gn(){if(gr)return vr;gr=1;var e=pr(),t=dr(),r=fr(),{isClean:n,my:s}=vn();function o(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"proxyCache"!==n){var s=e[n],i=typeof s;"parent"===n&&"object"===i?t&&(r[n]=t):"source"===n?r[n]=s:Array.isArray(s)?r[n]=s.map((e=>o(e,r))):("object"===i&&null!==s&&(s=o(s)),r[n]=s)}return r}function i(e,t){if(t&&void 0!==t.offset)return t.offset;for(var r=1,n=1,s=0,o=0;o<e.length;o++){if(n===t.line&&r===t.column){s=o;break}"\n"===e[o]?(r=1,n+=1):r+=1}return s}class a{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in this.raws={},this[n]=!1,this[s]=!0,e)if("nodes"===t)for(var r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}after(e){return this.parent.insertAfter(this,e),this}assign(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o(this);for(var r in e)t[r]=e[r];return t}cloneAfter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}error(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var{end:n,start:s}=this.rangeBy(r);return this.source.input.error(t,{column:s.column,line:s.line},{column:n.column,line:n.line},r)}return new e(t)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markClean(){this[n]=!0}markDirty(){if(this[n]){this[n]=!1;for(var e=this;e=e.parent;)e[n]=!1}}next(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}positionBy(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var r="document"in this.source.input?this.source.input.document:this.source.input.css,n=r.slice(i(r,this.source.start),i(r,this.source.end)).indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t}positionInside(e){for(var t=this.source.start.column,r=this.source.start.line,n=("document"in this.source.input?this.source.input.document:this.source.input.css),s=i(n,this.source.start),o=s+e,a=s;a<o;a++)"\n"===n[a]?(t=1,r+=1):t+=1;return{column:t,line:r}}prev(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}rangeBy(e){var t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var n="document"in this.source.input?this.source.input.document:this.source.input.css,s=n.slice(i(n,this.source.start),i(n,this.source.end)).indexOf(e.word);-1!==s&&(t=this.positionInside(s),r=this.positionInside(s+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,r){return(new t).raw(this,e,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){for(var e=this,t=!1,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];for(var o of n)o===this?t=!0:t?(this.parent.insertAfter(e,o),e=o):this.parent.insertBefore(e,o);t||this.remove()}return this}root(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){var r={},n=null==t;t=t||new Map;var s=0;for(var o in this)if(Object.prototype.hasOwnProperty.call(this,o)&&"parent"!==o&&"proxyCache"!==o){var i=this[o];if(Array.isArray(i))r[o]=i.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof i&&i.toJSON)r[o]=i.toJSON(null,t);else if("source"===o){var a=t.get(i.input);null==a&&(a=s,t.set(i.input,s),s++),r[o]={end:i.end,inputId:a,start:i.start}}else r[o]=i}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;e.stringify&&(e=e.stringify);var t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){var n={node:this};for(var s in r)n[s]=r[s];return e.warn(t,n)}get proxyOf(){return this}}return vr=a,a.default=a,vr}function yn(){if(wr)return yr;wr=1;var e=gn();class t extends e{constructor(e){super(e),this.type="comment"}}return yr=t,t.default=t,yr}function wn(){if(Sr)return br;Sr=1;var e=gn();class t extends e{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e=r(r({},e),{},{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}return br=t,t.default=t,br}function bn(){if(kr)return Cr;kr=1;var e,t,r,n,s=yn(),o=wn(),i=gn(),{isClean:a,my:l}=vn();function u(e){return e.map((e=>(e.nodes&&(e.nodes=u(e.nodes)),delete e.source,e)))}function c(e){if(e[a]=!1,e.proxyOf.nodes)for(var t of e.proxyOf.nodes)c(t)}class h extends i{append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n of t){var s=this.normalize(n,this.last);for(var o of s)this.proxyOf.nodes.push(o)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(var t of this.nodes)t.cleanRaws(e)}each(e){if(this.proxyOf.nodes){for(var t,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[n]+=1;return delete this.indexes[n],r}}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e[t](...n.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e)))}:"every"===t||"some"===t?r=>e[t]((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return r(e.toProxy(),...n)})):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){var r,n=this.index(e),s=this.normalize(t,this.proxyOf.nodes[n]).reverse();for(var o of(n=this.index(e),s))this.proxyOf.nodes.splice(n+1,0,o);for(var i in this.indexes)n<(r=this.indexes[i])&&(this.indexes[i]=r+s.length);return this.markDirty(),this}insertBefore(e,t){var r,n=this.index(e),s=0===n&&"prepend",o=this.normalize(t,this.proxyOf.nodes[n],s).reverse();for(var i of(n=this.index(e),o))this.proxyOf.nodes.splice(n,0,i);for(var a in this.indexes)n<=(r=this.indexes[a])&&(this.indexes[a]=r+o.length);return this.markDirty(),this}normalize(r,i){if("string"==typeof r)r=u(t(r).nodes);else if(void 0===r)r=[];else if(Array.isArray(r))for(var p of r=r.slice(0))p.parent&&p.parent.removeChild(p,"ignore");else if("root"===r.type&&"document"!==this.type)for(var d of r=r.nodes.slice(0))d.parent&&d.parent.removeChild(d,"ignore");else if(r.type)r=[r];else if(r.prop){if(void 0===r.value)throw new Error("Value field is missed in node creation");"string"!=typeof r.value&&(r.value=String(r.value)),r=[new o(r)]}else if(r.selector||r.selectors)r=[new n(r)];else if(r.name)r=[new e(r)];else{if(!r.text)throw new Error("Unknown node type in node creation");r=[new s(r)]}var f=r.map((e=>(e[l]||h.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[a]&&c(e),e.raws||(e.raws={}),void 0===e.raws.before&&i&&void 0!==i.raws.before&&(e.raws.before=i.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)));return f}prepend(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n of t=t.reverse()){var s=this.normalize(n,this.first,"prepend").reverse();for(var o of s)this.proxyOf.nodes.unshift(o);for(var i in this.indexes)this.indexes[i]=this.indexes[i]+s.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(var e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){var t;for(var r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{var n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return h.registerParse=e=>{t=e},h.registerRule=e=>{n=e},h.registerAtRule=t=>{e=t},h.registerRoot=e=>{r=e},Cr=h,h.default=h,h.rebuild=t=>{"atrule"===t.type?Object.setPrototypeOf(t,e.prototype):"rule"===t.type?Object.setPrototypeOf(t,n.prototype):"decl"===t.type?Object.setPrototypeOf(t,o.prototype):"comment"===t.type?Object.setPrototypeOf(t,s.prototype):"root"===t.type&&Object.setPrototypeOf(t,r.prototype),t[l]=!0,t.nodes&&t.nodes.forEach((e=>{h.rebuild(e)}))},Cr}function Sn(){if(Or)return xr;Or=1;var e=bn();class t extends e{constructor(e){super(e),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}}return xr=t,t.default=t,e.registerAtRule(t),xr}function Cn(){if(Ir)return Mr;Ir=1;var e,t,n=bn();class s extends n{constructor(e){super(r({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(new t,this,r).stringify()}}return s.registerLazyResult=t=>{e=t},s.registerProcessor=e=>{t=e},Mr=s,s.default=s,Mr}function kn(){if(Rr)return Er;Rr=1;return Er={nanoid:function(){for(var e="",t=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:21);t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},customAlphabet:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){for(var r="",n=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t);n--;)r+=e[Math.random()*e.length|0];return r}}},Er}function xn(){if(Ar)return Tr;Ar=1;var{existsSync:e,readFileSync:t}=hr,{dirname:r,join:n}=hr,{SourceMapConsumer:s,SourceMapGenerator:o}=hr;class i{constructor(e,t){if(!1!==t.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,s=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=r(this.mapFile)),s&&(this.text=s)}}consumer(){return this.consumerCache||(this.consumerCache=new s(this.text)),this.consumerCache}decodeInline(e){var t=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(t)return decodeURIComponent(e.substr(t[0].length));var r,n=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(n)return r=e.substr(n[0].length),Buffer?Buffer.from(r,"base64").toString():window.atob(r);var s=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){var t=e.match(/\/\*\s*# sourceMappingURL=/g);if(t){var r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}}loadFile(n){if(this.root=r(n),e(n))return this.mapFile=n,t(n,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof s)return o.fromSourceMap(t).toString();if(t instanceof o)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}var i=t(e);if(i){var a=this.loadFile(i);if(!a)throw new Error("Unable to load previous source map: "+i.toString());return a}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var l=this.annotation;return e&&(l=n(r(e),l)),this.loadFile(l)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return Tr=i,i.default=i,Tr}function On(){if(Lr)return Nr;Lr=1;var{nanoid:e}=kn(),{isAbsolute:t,resolve:n}=hr,{SourceMapConsumer:s,SourceMapGenerator:o}=hr,{fileURLToPath:i,pathToFileURL:a}=hr,l=pr(),u=xn(),c=hr,h=Symbol("fromOffsetCache"),p=Boolean(s&&o),d=Boolean(n&&t);class f{constructor(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==r||"object"==typeof r&&!r.toString)throw new Error("PostCSS received ".concat(r," instead of CSS string"));if(this.css=r.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,s.document&&(this.document=s.document.toString()),s.from&&(!d||/^\w+:\/\//.test(s.from)||t(s.from)?this.file=s.from:this.file=n(s.from)),d&&p){var o=new u(this.css,s);if(o.text){this.map=o;var i=o.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+e(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r){var n,s,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&"object"==typeof t){var u=t,c=r;if("number"==typeof u.offset){var h=this.fromOffset(u.offset);t=h.line,r=h.col}else t=u.line,r=u.column;if("number"==typeof c.offset){var p=this.fromOffset(c.offset);s=p.line,n=p.col}else s=c.line,n=c.column}else if(!r){var d=this.fromOffset(t);t=d.line,r=d.col}var f=this.origin(t,r,s,n);return(o=f?new l(e,void 0===f.endLine?f.line:{column:f.column,line:f.line},void 0===f.endLine?f.column:{column:f.endColumn,line:f.endLine},f.source,f.file,i.plugin):new l(e,void 0===s?t:{column:r,line:t},void 0===s?r:{column:n,line:s},this.css,this.file,i.plugin)).input={column:r,endColumn:n,endLine:s,line:t,source:this.css},this.file&&(a&&(o.input.url=a(this.file).toString()),o.input.file=this.file),o}fromOffset(e){var t;if(this[h])t=this[h];else{var r=this.css.split("\n");t=new Array(r.length);for(var n=0,s=0,o=r.length;s<o;s++)t[s]=n,n+=r[s].length+1;this[h]=t}var i=0;if(e>=t[t.length-1])i=t.length-1;else for(var a,l=t.length-2;i<l;)if(e<t[a=i+(l-i>>1)])l=a-1;else{if(!(e>=t[a+1])){i=a;break}i=a+1}return{col:e-t[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:n(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,r,n,s){if(!this.map)return!1;var o,l,u=this.map.consumer(),c=u.originalPositionFor({column:r,line:e});if(!c.source)return!1;"number"==typeof n&&(o=u.originalPositionFor({column:s,line:n})),l=t(c.source)?a(c.source):new URL(c.source,this.map.consumer().sourceRoot||a(this.map.mapFile));var h={column:c.column,endColumn:o&&o.column,endLine:o&&o.line,line:c.line,url:l.toString()};if("file:"===l.protocol){if(!i)throw new Error("file: protocol is not available in this PostCSS build");h.file=i(l)}var p=u.sourceContentFor(c.source);return p&&(h.source=p),h}toJSON(){var e={};for(var t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=r({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}}return Nr=f,f.default=f,c&&c.registerInput&&c.registerInput(f),Nr}function Mn(){if(Dr)return Pr;Dr=1;var e,t,r=bn();class n extends r{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){var n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(var s of n)s.raws.before=t.raws.before;return n}removeChild(e,t){var r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(new t,this,r).stringify()}}return n.registerLazyResult=t=>{e=t},n.registerProcessor=e=>{t=e},Pr=n,n.default=n,r.registerRoot(n),Pr}function In(){if(Fr)return _r;Fr=1;var e={comma:t=>e.split(t,[","],!0),space:t=>e.split(t,[" ","\n","\t"]),split(e,t,r){var n=[],s="",o=!1,i=0,a=!1,l="",u=!1;for(var c of e)u?u=!1:"\\"===c?u=!0:a?c===l&&(a=!1):'"'===c||"'"===c?(a=!0,l=c):"("===c?i+=1:")"===c?i>0&&(i-=1):0===i&&t.includes(c)&&(o=!0),o?(""!==s&&n.push(s.trim()),s="",o=!1):s+=c;return(r||""!==s)&&n.push(s.trim()),n}};return _r=e,e.default=e,_r}function En(){if(jr)return Br;jr=1;var e=bn(),t=In();class r extends e{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return t.comma(this.selector)}set selectors(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}return Br=r,r.default=r,e.registerRule(r),Br}function Rn(){if(qr)return Wr;qr=1;var{dirname:e,relative:t,resolve:r,sep:n}=hr,{SourceMapConsumer:s,SourceMapGenerator:o}=hr,{pathToFileURL:i}=hr,a=On(),l=Boolean(s&&o),u=Boolean(e&&r&&t&&n);return Wr=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(var t of this.previous()){var r=this.toUrl(this.path(t.file)),n=t.root||e(t.file),o=void 0;!1===this.mapOpts.sourcesContent?(o=new s(t.text)).sourcesContent&&(o.sourcesContent=null):o=t.consumer(),this.map.applySourceMap(o,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),u&&l&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,(t=>{e+=t})),[e]}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=o.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0});var e,t,r=1,n=1,s="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(i.generated.line=r,i.generated.column=n-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,this.map.addMapping(i))),(t=o.match(/\n/g))?(r+=t.length,e=o.lastIndexOf("\n"),n=o.length-e):n+=o.length,a&&"start"!==l){var u=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===u.last&&!u.raws.semicolon||(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=r,i.generated.column=n-2,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,i.generated.line=r,i.generated.column=n-1,this.map.addMapping(i)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(n){if(this.mapOpts.absolute)return n;if(60===n.charCodeAt(0))return n;if(/^\w+:\/\//.test(n))return n;var s=this.memoizedPaths.get(n);if(s)return s;var o=this.opts.to?e(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(o=e(r(o,this.mapOpts.annotation)));var i=t(o,n);return this.memoizedPaths.set(n,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){var t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{var e=new a(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){var e={};if(this.root)this.root.walk((t=>{if(t.source){var r=t.source.input.from;if(r&&!e[r]){e[r]=!0;var n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){var t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){var t=this.memoizedFileURLs.get(e);if(t)return t;if(i){var r=i(e).toString();return this.memoizedFileURLs.set(e,r),r}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){var t=this.memoizedURLs.get(e);if(t)return t;"\\"===n&&(e=e.replace(/\\/g,"/"));var r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},Wr}function Tn(){if(Hr)return Vr;Hr=1;var e="'".charCodeAt(0),t='"'.charCodeAt(0),r="\\".charCodeAt(0),n="/".charCodeAt(0),s="\n".charCodeAt(0),o=" ".charCodeAt(0),i="\f".charCodeAt(0),a="\t".charCodeAt(0),l="\r".charCodeAt(0),u="[".charCodeAt(0),c="]".charCodeAt(0),h="(".charCodeAt(0),p=")".charCodeAt(0),d="{".charCodeAt(0),f="}".charCodeAt(0),m=";".charCodeAt(0),v="*".charCodeAt(0),g=":".charCodeAt(0),y="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,b=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,S=/.[\r\n"'(/\\]/,C=/[\da-f]/i;return Vr=function(k){var x,O,M,I,E,R,T,A,N,L,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=k.css.valueOf(),_=P.ignoreErrors,F=D.length,B=0,j=[],U=[];function z(e){throw k.error("Unclosed "+e,B)}return{back:function(e){U.push(e)},endOfFile:function(){return 0===U.length&&B>=F},nextToken:function(k){if(U.length)return U.pop();if(!(B>=F)){var P=!!k&&k.ignoreUnclosed;switch(x=D.charCodeAt(B)){case s:case o:case a:case l:case i:I=B;do{I+=1,x=D.charCodeAt(I)}while(x===o||x===s||x===a||x===l||x===i);R=["space",D.slice(B,I)],B=I-1;break;case u:case c:case d:case f:case g:case m:case p:var W=String.fromCharCode(x);R=[W,W,B];break;case h:if(L=j.length?j.pop()[1]:"",N=D.charCodeAt(B+1),"url"===L&&N!==e&&N!==t&&N!==o&&N!==s&&N!==a&&N!==i&&N!==l){I=B;do{if(T=!1,-1===(I=D.indexOf(")",I+1))){if(_||P){I=B;break}z("bracket")}for(A=I;D.charCodeAt(A-1)===r;)A-=1,T=!T}while(T);R=["brackets",D.slice(B,I+1),B,I],B=I}else I=D.indexOf(")",B+1),O=D.slice(B,I+1),-1===I||S.test(O)?R=["(","(",B]:(R=["brackets",O,B,I],B=I);break;case e:case t:E=x===e?"'":'"',I=B;do{if(T=!1,-1===(I=D.indexOf(E,I+1))){if(_||P){I=B+1;break}z("string")}for(A=I;D.charCodeAt(A-1)===r;)A-=1,T=!T}while(T);R=["string",D.slice(B,I+1),B,I],B=I;break;case y:w.lastIndex=B+1,w.test(D),I=0===w.lastIndex?D.length-1:w.lastIndex-2,R=["at-word",D.slice(B,I+1),B,I],B=I;break;case r:for(I=B,M=!0;D.charCodeAt(I+1)===r;)I+=1,M=!M;if(x=D.charCodeAt(I+1),M&&x!==n&&x!==o&&x!==s&&x!==a&&x!==l&&x!==i&&(I+=1,C.test(D.charAt(I)))){for(;C.test(D.charAt(I+1));)I+=1;D.charCodeAt(I+1)===o&&(I+=1)}R=["word",D.slice(B,I+1),B,I],B=I;break;default:x===n&&D.charCodeAt(B+1)===v?(0===(I=D.indexOf("*/",B+2)+1)&&(_||P?I=D.length:z("comment")),R=["comment",D.slice(B,I+1),B,I],B=I):(b.lastIndex=B+1,b.test(D),I=0===b.lastIndex?D.length-1:b.lastIndex-2,R=["word",D.slice(B,I+1),B,I],j.push(R),B=I)}return B++,R}},position:function(){return B}}},Vr}function An(){if($r)return Gr;$r=1;var e=Sn(),t=yn(),r=wn(),n=Mn(),s=En(),o=Tn(),i={empty:!0,space:!0};return Gr=class{constructor(e){this.input=e,this.root=new n,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(t){var r,n,s,o=new e;o.name=t[1].slice(1),""===o.name&&this.unnamedAtrule(o,t),this.init(o,t[2]);for(var i=!1,a=!1,l=[],u=[];!this.tokenizer.endOfFile();){if("("===(r=(t=this.tokenizer.nextToken())[0])||"["===r?u.push("("===r?")":"]"):"{"===r&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),0===u.length){if(";"===r){o.source.end=this.getPosition(t[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===r){a=!0;break}if("}"===r){if(l.length>0){for(n=l[s=l.length-1];n&&"space"===n[0];)n=l[--s];n&&(o.source.end=this.getPosition(n[3]||n[2]),o.source.end.offset++)}this.end(t);break}l.push(t)}else l.push(t);if(this.tokenizer.endOfFile()){i=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(o.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(o,"params",l),i&&(t=l[l.length-1],o.source.end=this.getPosition(t[3]||t[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}checkMissedSemicolon(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,s=t-1;s>=0&&("space"===(r=e[s])[0]||2!==(n+=1));s--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}colon(e){var t,r,n,s=0;for(var[o,i]of e.entries()){if("("===(n=(r=i)[0])&&(s+=1),")"===n&&(s-=1),0===s&&":"===n){if(t){if("word"===t[0]&&"progid"===t[1])continue;return o}this.doubleColon(r)}t=r}return!1}comment(e){var r=new t;this.init(r,e[2]),r.source.end=this.getPosition(e[3]||e[2]),r.source.end.offset++;var n=e[1].slice(2,-2);if(/^\s*$/.test(n))r.text="",r.raws.left=n,r.raws.right="";else{var s=n.match(/^(\s*)([^]*\S)(\s*)$/);r.text=s[2],r.raws.left=s[1],r.raws.right=s[3]}}createTokenizer(){this.tokenizer=o(this.input)}decl(e,t){var n=new r;this.init(n,e[0][2]);var s,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(o[3]||o[2]||function(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(":"===(s=e.shift())[0]){n.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),n.raws.between+=s[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));for(var a,l=[];e.length&&("space"===(a=e[0][0])||"comment"===a);)l.push(e.shift());this.precheckMissedSemicolon(e);for(var u=e.length-1;u>=0;u--){if("!important"===(s=e[u])[1].toLowerCase()){n.important=!0;var c=this.stringFrom(e,u);" !important"!==(c=this.spacesFromEnd(e)+c)&&(n.raws.important=c);break}if("important"===s[1].toLowerCase()){for(var h=e.slice(0),p="",d=u;d>0;d--){var f=h[d][0];if(p.trim().startsWith("!")&&"space"!==f)break;p=h.pop()[1]+p}p.trim().startsWith("!")&&(n.important=!0,n.raws.important=p,e=h)}if("space"!==s[0]&&"comment"!==s[0])break}var m=e.some((e=>"space"!==e[0]&&"comment"!==e[0]));m&&(n.raws.between+=l.map((e=>e[1])).join(""),l=[]),this.raw(n,"value",l.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){var t=new s;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){for(var t=!1,r=null,n=!1,s=null,o=[],i=e[1].startsWith("--"),a=[],l=e;l;){if(r=l[0],a.push(l),"("===r||"["===r)s||(s=l),o.push("("===r?")":"]");else if(i&&n&&"{"===r)s||(s=l),o.push("}");else if(0===o.length){if(";"===r){if(n)return void this.decl(a,i);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(n=!0)}else r===o[o.length-1]&&(o.pop(),0===o.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&n){if(!i)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,i)}else this.unknownWord(a)}parse(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){for(var s,o,a,l,u=r.length,c="",h=!0,p=0;p<u;p+=1)"space"!==(o=(s=r[p])[0])||p!==u-1||n?"comment"===o?(l=r[p-1]?r[p-1][0]:"empty",a=r[p+1]?r[p+1][0]:"empty",i[l]||i[a]||","===c.slice(-1)?h=!1:c+=s[1]):c+=s[1]:h=!1;if(!h){var d=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:d,value:c}}e[t]=c}rule(e){e.pop();var t=new s;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}}function Nn(){if(Yr)return Jr;Yr=1;var e=bn(),t=On(),r=An();function n(e,n){var s=new t(e,n),o=new r(s);try{o.parse()}catch(e){throw"production"!==process.env.NODE_ENV&&"CssSyntaxError"===e.name&&n&&n.from&&(/\.scss$/i.test(n.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(n.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(n.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return o.root}return Jr=n,n.default=n,e.registerParse(n),Jr}function Ln(){if(Kr)return Xr;Kr=1;class e{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.type="warning",this.text=e,t.node&&t.node.source){var r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Xr=e,e.default=e,Xr}function Pn(){if(Qr)return Zr;Qr=1;var e=Ln();class t{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);var n=new e(t,r);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}return Zr=t,t.default=t,Zr}function Dn(){if(tn)return en;tn=1;var e={};return en=function(t){e[t]||(e[t]=!0,"undefined"!=typeof console&&console.warn&&console.warn(t))}}function _n(){if(nn)return rn;nn=1;var e=bn(),t=Cn(),n=Rn(),o=Nn(),i=Pn(),a=Mn(),l=fr(),{isClean:u,my:c}=vn(),h=Dn(),p={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},m=0;function v(e){return"object"==typeof e&&"function"==typeof e.then}function g(e){var t=!1,r=p[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,m,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,m,r+"Exit"]:[r,r+"Exit"]}function y(e){return{eventIndex:0,events:"document"===e.type?["Document",m,"DocumentExit"]:"root"===e.type?["Root",m,"RootExit"]:g(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function w(e){return e[u]=!1,e.nodes&&e.nodes.forEach((e=>w(e))),e}var b={};class S{constructor(t,n,s){var a;if(this.stringified=!1,this.processed=!1,"object"!=typeof n||null===n||"root"!==n.type&&"document"!==n.type)if(n instanceof S||n instanceof i)a=w(n.root),n.map&&(void 0===s.map&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=n.map);else{var l=o;s.syntax&&(l=s.syntax.parse),s.parser&&(l=s.parser),l.parse&&(l=l.parse);try{a=l(n,s)}catch(e){this.processed=!0,this.error=e}a&&!a[c]&&e.rebuild(a)}else a=w(n);this.result=new i(t,a,s),this.helpers=r(r({},b),{},{postcss:b,result:this.result}),this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?r(r({},e),e.prepare(this.result)):e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){var r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(r.postcssVersion&&"production"!==process.env.NODE_ENV){var n=r.postcssPlugin,s=r.postcssVersion,o=this.result.processor.version,i=s.split("."),a=o.split(".");(i[0]!==a[0]||parseInt(i[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+n+" uses "+s+". Perhaps this is the source of the error below.")}}else e.plugin=r.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};var e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(var t of this.plugins)if("object"==typeof t)for(var r in t){if(!d[r]&&/^[A-Z]/.test(r))throw new Error("Unknown event ".concat(r," in ").concat(t.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!f[r])if("object"==typeof t[r])for(var n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){var e=this;return s((function*(){e.plugin=0;for(var t=0;t<e.plugins.length;t++){var r=e.plugins[t],n=e.runOnRoot(r);if(v(n))try{yield n}catch(t){throw e.handleError(t)}}if(e.prepareVisitors(),e.hasListener){for(var s=e.result.root;!s[u];){s[u]=!0;for(var o=[y(s)];o.length>0;){var i=e.visitTick(o);if(v(i))try{yield i}catch(t){var a=o[o.length-1].node;throw e.handleError(t,a)}}}if(e.listeners.OnceExit){var l=function*(t,r){e.result.lastPlugin=r;try{if("document"===s.type){var n=s.nodes.map((r=>t(r,e.helpers)));yield Promise.all(n)}else yield t(s,e.helpers)}catch(t){throw e.handleError(t)}};for(var[c,h]of e.listeners.OnceExit)yield*l(h,c)}}return e.processed=!0,e.stringify()}))()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){var t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return v(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=l;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r=new n(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var e of this.plugins){if(v(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var t=this.result.root;!t[u];)t[u]=!0,this.walkSync(t);if(this.listeners.OnceExit)if("document"===t.type)for(var r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(e,t){return"production"!==process.env.NODE_ENV&&("from"in this.opts||h("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(var[r,n]of e){this.result.lastPlugin=r;var s=void 0;try{s=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(v(s))throw this.getAsyncError()}}visitTick(e){var t=e[e.length-1],{node:r,visitors:n}=t;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&t.visitorIndex<n.length){var[s,o]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=s;try{return o(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){for(var i,a=t.iterator;i=r.nodes[r.indexes[a]];)if(r.indexes[a]+=1,!i[u])return i[u]=!0,void e.push(y(i));t.iterator=0,delete r.indexes[a]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,c===m)return void(r.nodes&&r.nodes.length&&(r[u]=!0,t.iterator=r.getIterator()));if(this.listeners[c])return void(t.visitors=this.listeners[c])}e.pop()}else e.pop()}walkSync(e){e[u]=!0;var t=g(e);for(var r of t)if(r===m)e.nodes&&e.each((e=>{e[u]||this.walkSync(e)}));else{var n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return S.registerPostcss=e=>{b=e},rn=S,S.default=S,a.registerLazyResult(S),t.registerLazyResult(S),rn}function Fn(){if(ln)return an;ln=1;var e=Cn(),t=_n(),r=function(){if(on)return sn;on=1;var e=Rn(),t=Nn(),r=Pn(),n=fr(),s=Dn();class o{constructor(t,s,o){var i;s=s.toString(),this.stringified=!1,this._processor=t,this._css=s,this._opts=o,this._map=void 0;var a=n;this.result=new r(this._processor,i,this._opts),this.result.css=s;var l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});var u=new e(a,i,this._opts,s);if(u.isMap()){var[c,h]=u.generate();c&&(this.result.css=c),h&&(this.result.map=h)}else u.clearAnnotation(),this.result.css=u.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return"production"!==process.env.NODE_ENV&&("from"in this._opts||s("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;var e,r=t;try{e=r(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}}return sn=o,o.default=o,sn}(),n=Mn();class s{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.version="8.5.1",this.plugins=this.normalize(e)}normalize(e){var t=[];for(var r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");if("production"!==process.env.NODE_ENV)throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}return t}process(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||n.parser||n.stringifier||n.syntax?new t(this,e,n):new r(this,e,n)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}return an=s,s.default=s,n.registerProcessor(s),e.registerProcessor(s),an}function Bn(){if(cn)return un;cn=1;var e=Sn(),t=yn(),n=bn(),s=pr(),o=wn(),a=Cn(),l=function(){if(zr)return Ur;zr=1;var e=Sn(),t=yn(),n=wn(),s=On(),o=xn(),a=Mn(),l=En();function u(p,d){if(Array.isArray(p))return p.map((e=>u(e)));var{inputs:f}=p,m=i(p,c);if(f)for(var v of(d=[],f)){var g=r(r({},v),{},{__proto__:s.prototype});g.map&&(g.map=r(r({},g.map),{},{__proto__:o.prototype})),d.push(g)}if(m.nodes&&(m.nodes=p.nodes.map((e=>u(e,d)))),m.source){var y=m.source,{inputId:w}=y,b=i(y,h);m.source=b,null!=w&&(m.source.input=d[w])}if("root"===m.type)return new a(m);if("decl"===m.type)return new n(m);if("rule"===m.type)return new l(m);if("comment"===m.type)return new t(m);if("atrule"===m.type)return new e(m);throw new Error("Unknown node type: "+p.type)}return Ur=u,u.default=u,Ur}(),u=On(),p=_n(),d=In(),f=gn(),m=Nn(),v=Fn(),g=Pn(),y=Mn(),w=En(),b=fr(),S=Ln();function C(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new v(t)}return C.plugin=function(e,t){var r,n=!1;function s(){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));var r=t(...arguments);return r.postcssPlugin=e,r.postcssVersion=(new v).version,r}return Object.defineProperty(s,"postcss",{get:()=>(r||(r=s()),r)}),s.process=function(e,t,r){return C([s(r)]).process(e,t)},s},C.stringify=b,C.parse=m,C.fromJSON=l,C.list=d,C.comment=e=>new t(e),C.atRule=t=>new e(t),C.decl=e=>new o(e),C.rule=e=>new w(e),C.root=e=>new y(e),C.document=e=>new a(e),C.CssSyntaxError=s,C.Declaration=o,C.Container=n,C.Processor=v,C.Document=a,C.Comment=t,C.Warning=S,C.AtRule=e,C.Result=g,C.Input=u,C.Rule=w,C.Root=y,C.Node=f,p.registerPostcss(C),un=C,C.default=C,un}!function(){if(fn)return dn;fn=1;var{Input:e}=Bn(),t=function(){if(pn)return hn;pn=1;var e=yn(),t=An(),r=Tn();return hn=class extends t{checkMissedSemicolon(){}comment(t){var r=new e;this.init(r,t[2]);var n=this.input.fromOffset(t[3])||this.input.fromOffset(this.input.css.length-1);r.source.end={column:n.col,line:n.line,offset:t[3]+1};var s=t[1].slice(2);if("*/"===s.slice(-2)&&(s=s.slice(0,-2)),/^\s*$/.test(s))r.text="",r.raws.left=s,r.raws.right="";else{var o=s.match(/^(\s*)([^]*\S)(\s*)$/);r.text=o[2],r.raws.left=o[1],r.raws.right=o[3]}}createTokenizer(){this.tokenizer=r(this.input,{ignoreErrors:!0})}decl(e){e.length>1&&e.some((e=>"word"===e[0]))&&super.decl(e)}doubleColon(){}endFile(){for(this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.current.parent;)this.current=this.current.parent,this.current.raws.after="";this.root.source.end=this.getPosition(this.tokenizer.position())}precheckMissedSemicolon(e){var t=this.colon(e);if(!1!==t){var r,n;for(r=t-1;r>=0&&"word"!==e[r][0];r--);if(!(0===r||r<0)){for(n=r-1;n>=0;n--)if("space"!==e[n][0]){n+=1;break}var s=e.slice(r),o=e.slice(n,r);e.splice(n,e.length-n),this.spaces=o.map((e=>e[1])).join(""),this.decl(s)}}}unclosedBracket(){}unexpectedClose(){this.current.raws.after+="}"}unknownWord(e){this.spaces+=e.map((e=>e[1])).join("")}unnamedAtrule(e){e.name=""}}}();dn=function(r,n){var s=new e(r,n),o=new t(s);return o.parse(),o.root}}();var jn=er(Bn());jn.stringify,jn.fromJSON,jn.plugin,jn.parse,jn.list,jn.document,jn.comment,jn.atRule,jn.rule,jn.decl,jn.root,jn.CssSyntaxError,jn.Declaration,jn.Container,jn.Processor,jn.Document,jn.Comment,jn.Warning,jn.AtRule,jn.Result,jn.Input,jn.Rule,jn.Root,jn.Node;class Un{constructor(){Qt(this,"parentElement",null),Qt(this,"parentNode",null),Qt(this,"ownerDocument"),Qt(this,"firstChild",null),Qt(this,"lastChild",null),Qt(this,"previousSibling",null),Qt(this,"nextSibling",null),Qt(this,"ELEMENT_NODE",1),Qt(this,"TEXT_NODE",3),Qt(this,"nodeType"),Qt(this,"nodeName"),Qt(this,"RRNodeType")}get childNodes(){for(var e=[],t=this.firstChild;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof Un))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}var zn={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Wn={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},qn={};function Vn(e){if(qn[e])return qn[e];var t=function(e){var t,r,n=null==(r=null==(t=null==globalThis?void 0:globalThis.Zone)?void 0:t.__symbol__)?void 0:r.call(t,e);return n&&globalThis[n]?globalThis[n]:void 0}(e)||globalThis[e],r=t.prototype,n=e in zn?zn[e]:void 0,s=Boolean(n&&n.every((e=>{var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),o=e in Wn?Wn[e]:void 0,i=Boolean(o&&o.every((e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(s&&i)return qn[e]=t.prototype,t.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var l=a.contentWindow;if(!l)return t.prototype;var u=l[e].prototype;return document.body.removeChild(a),u?qn[e]=u:r}catch(e){return r}}var Hn={};function Gn(e,t,r){var n,s="".concat(e,".").concat(String(r));if(Hn[s])return Hn[s].call(t);var o=Vn(e),i=null==(n=Object.getOwnPropertyDescriptor(o,r))?void 0:n.get;return i?(Hn[s]=i,i.call(t)):t[r]}var $n={};function Jn(e,t,r){var n="".concat(e,".").concat(String(r));if($n[n])return $n[n].bind(t);var s=Vn(e)[r];return"function"!=typeof s?t[r]:($n[n]=s,s.bind(t))}function Yn(){return Vn("MutationObserver").constructor}function Xn(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch(e){return()=>{}}}var Kn={childNodes:function(e){return Gn("Node",e,"childNodes")},parentNode:function(e){return Gn("Node",e,"parentNode")},parentElement:function(e){return Gn("Node",e,"parentElement")},textContent:function(e){return Gn("Node",e,"textContent")},contains:function(e,t){return Jn("Node",e,"contains")(t)},getRootNode:function(e){return Jn("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?Gn("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?Gn("Element",e,"shadowRoot"):null},querySelector:function(e,t){return Gn("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return Gn("Element",e,"querySelectorAll")(t)},mutationObserver:Yn,patch:Xn};function Zn(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}var Qn="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",es={map:{},getId:()=>(console.error(Qn),-1),getNode:()=>(console.error(Qn),null),removeNodeFromMap(){console.error(Qn)},has:()=>(console.error(Qn),!1),reset(){console.error(Qn)}};function ts(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=null,s=0;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=Date.now();s||!1!==r.leading||(s=l);var u=t-(l-s),c=this;u<=0||u>t?(n&&(clearTimeout(n),n=null),s=l,e.apply(c,i)):n||!1===r.trailing||(n=setTimeout((()=>{s=!1===r.leading?0:Date.now(),n=null,e.apply(c,i)}),u))}}function rs(e,t,r,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,n?r:{set(e){setTimeout((()=>{r.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>rs(e,t,o||{},!0)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(es=new Proxy(es,{get:(e,t,r)=>("map"===t&&console.error(Qn),Reflect.get(e,t,r))}));var ns=Date.now;function ss(e){var t,r,n,s,o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:o.documentElement.scrollLeft||(null==o?void 0:o.body)&&(null==(t=Kn.parentElement(o.body))?void 0:t.scrollLeft)||(null==(r=null==o?void 0:o.body)?void 0:r.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==o?void 0:o.documentElement.scrollTop)||(null==o?void 0:o.body)&&(null==(n=Kn.parentElement(o.body))?void 0:n.scrollTop)||(null==(s=null==o?void 0:o.body)?void 0:s.scrollTop)||0}}function os(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function is(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function as(e){return e?e.nodeType===e.ELEMENT_NODE?e:Kn.parentElement(e):null}function ls(e,t,r,n){if(!e)return!1;var s=as(e);if(!s)return!1;try{if("string"==typeof t){if(s.classList.contains(t))return!0;if(n&&null!==s.closest("."+t))return!0}else if(ae(s,t,n))return!0}catch(e){}if(r){if(s.matches(r))return!0;if(n&&null!==s.closest(r))return!0}return!1}function us(e,t,r){return!("TITLE"!==e.tagName||!r.headTitleMutations)||t.getId(e)===K}function cs(e,t){if(E(e))return!1;var r=t.getId(e);if(!t.has(r))return!0;var n=Kn.parentNode(e);return(!n||n.nodeType!==e.DOCUMENT_NODE)&&(!n||cs(n,t))}function hs(e){return Boolean(e.changedTouches)}function ps(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function ds(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function fs(e){return!!e&&(e instanceof Un&&"shadowRoot"in e?Boolean(e.shadowRoot):Boolean(Kn.shadowRoot(e)))}/[1-9][0-9]{12}/.test(Date.now().toString())||(ns=()=>(new Date).getTime());class ms{constructor(){f(this,"id",1),f(this,"styleIDMap",new WeakMap),f(this,"idStyleMap",new Map)}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){return this.has(e)?this.getId(e):(r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r);var r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function vs(e){var t,r=null;return"getRootNode"in e&&(null==(t=Kn.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Kn.host(Kn.getRootNode(e))&&(r=Kn.host(Kn.getRootNode(e))),r}function gs(e){var t=e.ownerDocument;if(!t)return!1;var r=function(e){for(var t,r=e;t=vs(r);)r=t;return r}(e);return Kn.contains(t,r)}function ys(e){var t=e.ownerDocument;return!!t&&(Kn.contains(t,e)||gs(e))}var ws=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ws||{}),bs=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(bs||{}),Ss=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ss||{}),Cs=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Cs||{}),ks=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(ks||{}),xs=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(xs||{}),Os=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Os||{});function Ms(e){return"__ln"in e}class Is{constructor(){f(this,"length",0),f(this,"head",null),f(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,r=0;r<e;r++)t=(null==t?void 0:t.next)||null;return t}addNode(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ms(e.previousSibling)){var r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&Ms(e.nextSibling)&&e.nextSibling.__ln.previous){var n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}var Es,Rs=(e,t)=>"".concat(e,"@").concat(t);class Ts{constructor(){f(this,"frozen",!1),f(this,"locked",!1),f(this,"texts",[]),f(this,"attributes",[]),f(this,"attributeMap",new WeakMap),f(this,"removes",[]),f(this,"mapRemoves",[]),f(this,"movedMap",{}),f(this,"addedSet",new Set),f(this,"movedSet",new Set),f(this,"droppedSet",new Set),f(this,"removesSubTreeCache",new Set),f(this,"mutationCb"),f(this,"blockClass"),f(this,"blockSelector"),f(this,"maskTextClass"),f(this,"maskTextSelector"),f(this,"inlineStylesheet"),f(this,"maskInputOptions"),f(this,"maskTextFn"),f(this,"maskInputFn"),f(this,"keepIframeSrcFn"),f(this,"recordCanvas"),f(this,"inlineImages"),f(this,"slimDOMOptions"),f(this,"dataURLOptions"),f(this,"doc"),f(this,"mirror"),f(this,"iframeManager"),f(this,"stylesheetManager"),f(this,"shadowDomManager"),f(this,"canvasManager"),f(this,"processedNodeManager"),f(this,"unattachedDoc"),f(this,"processMutations",(e=>{e.forEach(this.processMutation),this.emit()})),f(this,"emit",(()=>{if(!this.frozen&&!this.locked){for(var e=[],t=new Set,r=new Is,n=e=>{for(var t=e,r=K;r===K;)r=(t=t&&t.nextSibling)&&this.mirror.getId(t);return r},s=s=>{var o=Kn.parentNode(s);if(o&&ys(s)){var i=!1;if(s.nodeType===Node.TEXT_NODE){var a=o.tagName;if("TEXTAREA"===a)return;"STYLE"===a&&this.addedSet.has(o)&&(i=!0)}var l=E(o)?this.mirror.getId(vs(s)):this.mirror.getId(o),u=n(s);if(-1===l||-1===u)return r.addNode(s);var c=pe(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{ps(e,this.mirror)&&this.iframeManager.addIframe(e),ds(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),fs(s)&&this.shadowDomManager.addShadowRoot(Kn.shadowRoot(s),this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)},cssCaptured:i});c&&(e.push({parentId:l,nextId:u,node:c}),t.add(c.id))}};this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(var o of this.movedSet)Ns(this.removesSubTreeCache,o,this.mirror)&&!this.movedSet.has(Kn.parentNode(o))||s(o);for(var i of this.addedSet)Ls(this.droppedSet,i)||Ns(this.removesSubTreeCache,i,this.mirror)?Ls(this.movedSet,i)?s(i):this.droppedSet.add(i):s(i);for(var a=null;r.length;){var l=null;if(a){var u=this.mirror.getId(Kn.parentNode(a.value)),c=n(a.value);-1!==u&&-1!==c&&(l=a)}if(!l)for(var h=r.tail;h;){var p=h;if(h=h.previous,p){var d=this.mirror.getId(Kn.parentNode(p.value));if(-1===n(p.value))continue;if(-1!==d){l=p;break}var f=p.value,m=Kn.parentNode(f);if(m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var v=Kn.host(m);if(-1!==this.mirror.getId(v)){l=p;break}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}a=l.previous,r.removeNode(l.value),s(l.value)}var g={texts:this.texts.map((e=>{var t=e.node,r=Kn.parentNode(t);return r&&"TEXTAREA"===r.tagName&&this.genTextAreaValueMutation(r),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{var{attributes:t}=e;if("string"==typeof t.style){var r=JSON.stringify(e.styleDiff),n=JSON.stringify(e._unchangedStyles);r.length<t.style.length&&(r+n).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(g))}})),f(this,"genTextAreaValueMutation",(e=>{var t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(Kn.childNodes(e),(e=>Kn.textContent(e)||"")).join("")})),f(this,"processMutation",(e=>{if(!us(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":var t=Kn.textContent(e.target);ls(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:le(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,as(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break;case"attributes":var r=e.target,n=e.attributeName,s=e.target.getAttribute(n);if("value"===n){var o=_(r);s=L({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:o,value:s,maskInputFn:this.maskInputFn})}if(ls(e.target,this.blockClass,this.blockSelector,!1)||s===e.oldValue)return;var i=this.attributeMap.get(e.target);if("IFRAME"===r.tagName&&"src"===n&&!this.keepIframeSrcFn(s)){if(r.contentDocument)return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===r.tagName&&"password"===(e.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!ie(r.tagName,n))if(i.attributes[n]=oe(this.doc,P(r.tagName),P(n),s),"style"===n){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}var a=this.unattachedDoc.createElement("span");for(var l of(e.oldValue&&a.setAttribute("style",e.oldValue),Array.from(r.style))){var u=r.style.getPropertyValue(l),c=r.style.getPropertyPriority(l);u!==a.style.getPropertyValue(l)||c!==a.style.getPropertyPriority(l)?i.styleDiff[l]=""===c?u:[u,c]:i._unchangedStyles[l]=[u,c]}for(var h of Array.from(a.style))""===r.style.getPropertyValue(h)&&(i.styleDiff[h]=!1)}else"open"===n&&"DIALOG"===r.tagName&&(r.matches("dialog:modal")?i.attributes.rr_open_mode="modal":i.attributes.rr_open_mode="non-modal");break;case"childList":if(ls(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{var r=this.mirror.getId(t),n=E(e.target)?this.mirror.getId(Kn.host(e.target)):this.mirror.getId(e.target);ls(e.target,this.blockClass,this.blockSelector,!1)||us(t,this.mirror,this.slimDOMOptions)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(As(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||cs(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Rs(r,n)]?As(this.movedSet,t):(this.removes.push({parentId:n,id:r,isShadow:!(!E(e.target)||!R(e.target))||void 0}),function(e,t){var r=[e];for(;r.length;){var n=r.pop();t.has(n)||(t.add(n),Kn.childNodes(n).forEach((e=>r.push(e))))}}(t,this.removesSubTreeCache))),this.mapRemoves.push(t))}))}})),f(this,"genAdds",((e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(us(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);var r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&-1!==r&&(this.movedMap[Rs(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ls(e,this.blockClass,this.blockSelector,!1)||(Kn.childNodes(e).forEach((e=>this.genAdds(e))),fs(e)&&Kn.childNodes(Kn.shadowRoot(e)).forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}))}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function As(e,t){e.delete(t),Kn.childNodes(t).forEach((t=>As(e,t)))}function Ns(e,t,r){return 0!==e.size&&function(e,t,r){var n=Kn.parentNode(t);return!!n&&e.has(n)}(e,t)}function Ls(e,t){return 0!==e.size&&Ps(e,t)}function Ps(e,t){var r=Kn.parentNode(t);return!!r&&(!!e.has(r)||Ps(e,r))}var Ds=e=>{if(!Es)return e;return function(){try{return e(...arguments)}catch(e){if(Es&&!0===Es(e))return;throw e}}},_s=[];function Fs(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Bs(e,t){var r=new Ts;_s.push(r),r.init(e);var n=new(Yn())(Ds(r.processMutations.bind(r)));return n.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function js(e){var{mouseInteractionCb:t,doc:n,mirror:s,blockClass:o,blockSelector:i,sampling:a}=e;if(!1===a.mouseInteraction)return()=>{};var l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,u=[],c=null;return Object.keys(Ss).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e])).forEach((e=>{var a=P(e),l=(e=>n=>{var a=Fs(n);if(!ls(a,o,i,!0)){var l=null,u=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=Cs.Mouse;break;case"touch":l=Cs.Touch;break;case"pen":l=Cs.Pen}l===Cs.Touch?Ss[e]===Ss.MouseDown?u="TouchStart":Ss[e]===Ss.MouseUp&&(u="TouchEnd"):Cs.Pen}else hs(n)&&(l=Cs.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===Cs.Touch||u.startsWith("Mouse")&&l===Cs.Mouse)&&(l=null)):Ss[e]===Ss.Click&&(l=c,c=null);var h=hs(n)?n.changedTouches[0]:n;if(h){var p=s.getId(a),{clientX:d,clientY:f}=h;Ds(t)(r({type:Ss[u],id:p,x:d,y:f},null!==l&&{pointerType:l}))}}})(e);if(window.PointerEvent)switch(Ss[e]){case Ss.MouseDown:case Ss.MouseUp:a=a.replace("mouse","pointer");break;case Ss.TouchStart:case Ss.TouchEnd:return}u.push(Zn(a,l,n))})),Ds((()=>{u.forEach((e=>e()))}))}function Us(e){var{scrollCb:t,doc:r,mirror:n,blockClass:s,blockSelector:o,sampling:i}=e;return Zn("scroll",Ds(ts(Ds((e=>{var i=Fs(e);if(i&&!ls(i,s,o,!0)){var a=n.getId(i);if(i===r&&r.defaultView){var l=ss(r.defaultView);t({id:a,x:l.left,y:l.top})}else t({id:a,x:i.scrollLeft,y:i.scrollTop})}})),i.scroll||100)),r)}var zs=["INPUT","TEXTAREA","SELECT"],Ws=new WeakMap;function qs(e){return function(e,t){if($s("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||$s("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||$s("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||$s("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){var n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Vs(e,t,r){var n,s;return e?(e.ownerNode?n=t.getId(e.ownerNode):s=r.getId(e),{styleId:s,id:n}):{}}function Hs(e,t){var r,n,s,{mirror:o,stylesheetManager:i}=e,a=null;a="#document"===t.nodeName?o.getId(t):o.getId(Kn.host(t));var l="#document"===t.nodeName?null==(r=t.defaultView)?void 0:r.Document:null==(s=null==(n=t.ownerDocument)?void 0:n.defaultView)?void 0:s.ShadowRoot,u=(null==l?void 0:l.prototype)?Object.getOwnPropertyDescriptor(null==l?void 0:l.prototype,"adoptedStyleSheets"):void 0;return null!==a&&-1!==a&&l&&u?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get(){var e;return null==(e=u.get)?void 0:e.call(this)},set(e){var t,r=null==(t=u.set)?void 0:t.call(this,e);if(null!==a&&-1!==a)try{i.adoptStyleSheets(e,a)}catch(e){}return r}}),Ds((()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))):()=>{}}function Gs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.doc.defaultView;if(!s)return()=>{};!function(e,t){var{mutationCb:r,mousemoveCb:n,mouseInteractionCb:s,scrollCb:o,viewportResizeCb:i,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:h,fontCb:p,selectionCb:d,customElementCb:f}=e;e.mutationCb=function(){t.mutation&&t.mutation(...arguments),r(...arguments)},e.mousemoveCb=function(){t.mousemove&&t.mousemove(...arguments),n(...arguments)},e.mouseInteractionCb=function(){t.mouseInteraction&&t.mouseInteraction(...arguments),s(...arguments)},e.scrollCb=function(){t.scroll&&t.scroll(...arguments),o(...arguments)},e.viewportResizeCb=function(){t.viewportResize&&t.viewportResize(...arguments),i(...arguments)},e.inputCb=function(){t.input&&t.input(...arguments),a(...arguments)},e.mediaInteractionCb=function(){t.mediaInteaction&&t.mediaInteaction(...arguments),l(...arguments)},e.styleSheetRuleCb=function(){t.styleSheetRule&&t.styleSheetRule(...arguments),u(...arguments)},e.styleDeclarationCb=function(){t.styleDeclaration&&t.styleDeclaration(...arguments),c(...arguments)},e.canvasMutationCb=function(){t.canvasMutation&&t.canvasMutation(...arguments),h(...arguments)},e.fontCb=function(){t.font&&t.font(...arguments),p(...arguments)},e.selectionCb=function(){t.selection&&t.selection(...arguments),d(...arguments)},e.customElementCb=function(){t.customElement&&t.customElement(...arguments),f(...arguments)}}(e,n),e.recordDOM&&(t=Bs(e,e.doc));var o=function(e){var{mousemoveCb:t,sampling:r,doc:n,mirror:s}=e;if(!1===r.mousemove)return()=>{};var o,i="number"==typeof r.mousemove?r.mousemove:50,a="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500,l=[],u=ts(Ds((e=>{var r=Date.now()-o;t(l.map((e=>(e.timeOffset-=r,e))),e),l=[],o=null})),a),c=Ds(ts(Ds((e=>{var t=Fs(e),{clientX:r,clientY:n}=hs(e)?e.changedTouches[0]:e;o||(o=ns()),l.push({x:r,y:n,id:s.getId(t),timeOffset:ns()-o}),u("undefined"!=typeof DragEvent&&e instanceof DragEvent?bs.Drag:e instanceof MouseEvent?bs.MouseMove:bs.TouchMove)})),i,{trailing:!1})),h=[Zn("mousemove",c,n),Zn("touchmove",c,n),Zn("drag",c,n)];return Ds((()=>{h.forEach((e=>e()))}))}(e),i=js(e),a=Us(e),l=function(e,t){var{viewportResizeCb:r}=e,{win:n}=t,s=-1,o=-1;return Zn("resize",Ds(ts(Ds((()=>{var e=os(),t=is();s===e&&o===t||(r({width:Number(t),height:Number(e)}),s=e,o=t)})),200)),n)}(e,{win:s}),u=function(e){var{inputCb:t,doc:n,mirror:s,blockClass:o,blockSelector:i,ignoreClass:a,ignoreSelector:l,maskInputOptions:u,maskInputFn:c,sampling:h,userTriggeredOnInput:p}=e;function d(e){var t=Fs(e),r=e.isTrusted,s=t&&t.tagName;if(t&&"OPTION"===s&&(t=Kn.parentElement(t)),t&&s&&!(zs.indexOf(s)<0)&&!ls(t,o,i,!0)&&!(t.classList.contains(a)||l&&t.matches(l))){var h=t.value,d=!1,m=_(t)||"";"radio"===m||"checkbox"===m?d=t.checked:(u[s.toLowerCase()]||u[m])&&(h=L({element:t,maskInputOptions:u,tagName:s,type:m,value:h,maskInputFn:c})),f(t,p?{text:h,isChecked:d,userTriggered:r}:{text:h,isChecked:d});var v=t.name;"radio"===m&&v&&d&&n.querySelectorAll('input[type="radio"][name="'.concat(v,'"]')).forEach((e=>{if(e!==t){var r=e.value;f(e,p?{text:r,isChecked:!d,userTriggered:!1}:{text:r,isChecked:!d})}}))}}function f(e,n){var o=Ws.get(e);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){Ws.set(e,n);var i=s.getId(e);Ds(t)(r(r({},n),{},{id:i}))}}var m=("last"===h.input?["change"]:["input","change"]).map((e=>Zn(e,Ds(d),n))),v=n.defaultView;if(!v)return()=>{m.forEach((e=>e()))};var g=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),y=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&m.push(...y.map((e=>rs(e[0],e[1],{set(){Ds(d)({target:this,isTrusted:!1})}},!1,v)))),Ds((()=>{m.forEach((e=>e()))}))}(e),c=function(e){var{mediaInteractionCb:t,blockClass:r,blockSelector:n,mirror:s,sampling:o,doc:i}=e,a=Ds((e=>ts(Ds((o=>{var i=Fs(o);if(i&&!ls(i,r,n,!0)){var{currentTime:a,volume:l,muted:u,playbackRate:c,loop:h}=i;t({type:e,id:s.getId(i),currentTime:a,volume:l,muted:u,playbackRate:c,loop:h})}})),o.media||500))),l=[Zn("play",a(xs.Play),i),Zn("pause",a(xs.Pause),i),Zn("seeked",a(xs.Seeked),i),Zn("volumechange",a(xs.VolumeChange),i),Zn("ratechange",a(xs.RateChange),i)];return Ds((()=>{l.forEach((e=>e()))}))}(e),h=()=>{},p=()=>{},d=()=>{},f=()=>{};e.recordDOM&&(h=function(e,t){var{styleSheetRuleCb:r,mirror:n,stylesheetManager:s}=e,{win:o}=t;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return()=>{};var i=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Ds(((e,t,o)=>{var[i,a]=o,{id:l,styleId:u}=Vs(t,n,s.styleMirror);return(l&&-1!==l||u&&-1!==u)&&r({id:l,styleId:u,adds:[{rule:i,index:a}]}),e.apply(t,o)}))}),o.CSSStyleSheet.prototype.addRule=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,n="".concat(e," { ").concat(t," }");return o.CSSStyleSheet.prototype.insertRule.apply(this,[n,r])};var a,l,u=o.CSSStyleSheet.prototype.deleteRule;o.CSSStyleSheet.prototype.deleteRule=new Proxy(u,{apply:Ds(((e,t,o)=>{var[i]=o,{id:a,styleId:l}=Vs(t,n,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&r({id:a,styleId:l,removes:[{index:i}]}),e.apply(t,o)}))}),o.CSSStyleSheet.prototype.removeRule=function(e){return o.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},o.CSSStyleSheet.prototype.replace&&(a=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Ds(((e,t,o)=>{var[i]=o,{id:a,styleId:l}=Vs(t,n,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&r({id:a,styleId:l,replace:i}),e.apply(t,o)}))})),o.CSSStyleSheet.prototype.replaceSync&&(l=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Ds(((e,t,o)=>{var[i]=o,{id:a,styleId:l}=Vs(t,n,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&r({id:a,styleId:l,replaceSync:i}),e.apply(t,o)}))}));var c={};Js("CSSGroupingRule")?c.CSSGroupingRule=o.CSSGroupingRule:(Js("CSSMediaRule")&&(c.CSSMediaRule=o.CSSMediaRule),Js("CSSConditionRule")&&(c.CSSConditionRule=o.CSSConditionRule),Js("CSSSupportsRule")&&(c.CSSSupportsRule=o.CSSSupportsRule));var h={};return Object.entries(c).forEach((e=>{var[t,o]=e;h[t]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(h[t].insertRule,{apply:Ds(((e,t,o)=>{var[i,a]=o,{id:l,styleId:u}=Vs(t.parentStyleSheet,n,s.styleMirror);return(l&&-1!==l||u&&-1!==u)&&r({id:l,styleId:u,adds:[{rule:i,index:[...qs(t),a||0]}]}),e.apply(t,o)}))}),o.prototype.deleteRule=new Proxy(h[t].deleteRule,{apply:Ds(((e,t,o)=>{var[i]=o,{id:a,styleId:l}=Vs(t.parentStyleSheet,n,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&r({id:a,styleId:l,removes:[{index:[...qs(t),i]}]}),e.apply(t,o)}))})})),Ds((()=>{o.CSSStyleSheet.prototype.insertRule=i,o.CSSStyleSheet.prototype.deleteRule=u,a&&(o.CSSStyleSheet.prototype.replace=a),l&&(o.CSSStyleSheet.prototype.replaceSync=l),Object.entries(c).forEach((e=>{var[t,r]=e;r.prototype.insertRule=h[t].insertRule,r.prototype.deleteRule=h[t].deleteRule}))}))}(e,{win:s}),p=Hs(e,e.doc),d=function(e,t){var{styleDeclarationCb:r,mirror:n,ignoreCSSAttributes:s,stylesheetManager:o}=e,{win:i}=t,a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:Ds(((e,t,i)=>{var l,[u,c,h]=i;if(s.has(u))return a.apply(t,[u,c,h]);var{id:p,styleId:d}=Vs(null==(l=t.parentRule)?void 0:l.parentStyleSheet,n,o.styleMirror);return(p&&-1!==p||d&&-1!==d)&&r({id:p,styleId:d,set:{property:u,value:c,priority:h},index:qs(t.parentRule)}),e.apply(t,i)}))});var l=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:Ds(((e,t,i)=>{var a,[u]=i;if(s.has(u))return l.apply(t,[u]);var{id:c,styleId:h}=Vs(null==(a=t.parentRule)?void 0:a.parentStyleSheet,n,o.styleMirror);return(c&&-1!==c||h&&-1!==h)&&r({id:c,styleId:h,remove:{property:u},index:qs(t.parentRule)}),e.apply(t,i)}))}),Ds((()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=l}))}(e,{win:s}),e.collectFonts&&(f=function(e){var{fontCb:t,doc:r}=e,n=r.defaultView;if(!n)return()=>{};var s=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,r){var n=new i(e,t,r);return o.set(n,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};var a=Xn(r.fonts,"add",(function(e){return function(r){return setTimeout(Ds((()=>{var e=o.get(r);e&&(t(e),o.delete(r))})),0),e.apply(this,[r])}}));return s.push((()=>{n.FontFace=i})),s.push(a),Ds((()=>{s.forEach((e=>e()))}))}(e)));var m=function(e){var{doc:t,mirror:r,blockClass:n,blockSelector:s,selectionCb:o}=e,i=!0,a=Ds((()=>{var e=t.getSelection();if(!(!e||i&&(null==e?void 0:e.isCollapsed))){i=e.isCollapsed||!1;for(var a=[],l=e.rangeCount||0,u=0;u<l;u++){var c=e.getRangeAt(u),{startContainer:h,startOffset:p,endContainer:d,endOffset:f}=c;ls(h,n,s,!0)||ls(d,n,s,!0)||a.push({start:r.getId(h),startOffset:p,end:r.getId(d),endOffset:f})}o({ranges:a})}}));return a(),Zn("selectionchange",a)}(e),v=function(e){var{doc:t,customElementCb:r}=e,n=t.defaultView;return n&&n.customElements?Xn(n.customElements,"define",(function(e){return function(t,n,s){try{r({define:{name:t}})}catch(e){console.warn("Custom element callback failed for ".concat(t))}return e.apply(this,[t,n,s])}})):()=>{}}(e),g=[];for(var y of e.plugins)g.push(y.observer(y.callback,s,y.options));return Ds((()=>{_s.forEach((e=>e.reset())),null==t||t.disconnect(),o(),i(),a(),l(),u(),c(),h(),p(),d(),f(),m(),v(),g.forEach((e=>e()))}))}function $s(e){return void 0!==window[e]}function Js(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ys{constructor(e){f(this,"iframeIdToRemoteIdMap",new WeakMap),f(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,r,n){var s=r||this.getIdToRemoteIdMap(e),o=n||this.getRemoteIdToIdMap(e),i=s.get(t);return i||(i=this.generateIdFn(),s.set(t,i),o.set(i,t)),i}getIds(e,t){var r=this.getIdToRemoteIdMap(e),n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,r,n)))}getRemoteId(e,t,r){var n=r||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var s=n.get(t);return s||-1}getRemoteIds(e,t){var r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,r)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Xs{constructor(e){f(this,"iframes",new WeakMap),f(this,"crossOriginIframeMap",new WeakMap),f(this,"crossOriginIframeMirror",new Ys(Z)),f(this,"crossOriginIframeStyleMirror"),f(this,"crossOriginIframeRootIdMap",new WeakMap),f(this,"mirror"),f(this,"mutationCb"),f(this,"wrappedEmit"),f(this,"loadListener"),f(this,"stylesheetManager"),f(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ys(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=e.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(n=this.loadListener)||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){var t=e;if("rrweb"===t.data.type&&t.origin===t.data.origin&&e.source){var r=this.crossOriginIframeMap.get(e.source);if(r){var n=this.transformCrossOriginEvent(r,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}}}transformCrossOriginEvent(e,t){var r;switch(t.type){case ws.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:ws.IncrementalSnapshot,data:{source:bs.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case ws.Meta:case ws.Load:case ws.DomContentLoaded:return!1;case ws.Plugin:return t;case ws.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case ws.IncrementalSnapshot:switch(t.data.source){case bs.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);var r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(t.node,r)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case bs.Drag:case bs.TouchMove:case bs.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case bs.ViewportResize:return!1;case bs.MediaInteraction:case bs.MouseInteraction:case bs.Scroll:case bs.CanvasMutation:case bs.Input:return this.replaceIds(t.data,e,["id"]),t;case bs.StyleSheetRule:case bs.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case bs.Font:return t;case bs.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case bs.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(r=t.data.styles)||r.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,r,n){for(var s of n)(Array.isArray(t[s])||"number"==typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(r,t[s]):t[s]=e.getId(r,t[s]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===Os.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Ks{constructor(e){f(this,"shadowDoms",new WeakSet),f(this,"mutationCb"),f(this,"scrollCb"),f(this,"bypassOptions"),f(this,"mirror"),f(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(R(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e);var n=Bs(r(r({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Us(r(r({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(Kn.host(e))),this.restoreHandlers.push(Hs({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){var r=this;this.restoreHandlers.push(Xn(e.prototype,"attachShadow",(function(e){return function(n){var s=e.call(this,n),o=Kn.shadowRoot(this);return o&&ys(this)&&r.addShadowRoot(o,t),s}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qs="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eo=0;eo<64;eo++)Qs[Zs.charCodeAt(eo)]=eo;var to=new Map;var ro=(e,t,r)=>{if(e&&(oo(e,t)||"object"==typeof e)){var n=function(e,t){var r=to.get(e);return r||(r=new Map,to.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}(r,e.constructor.name),s=n.indexOf(e);return-1===s&&(s=n.length,n.push(e)),s}};function no(e,t,r){if(e instanceof Array)return e.map((e=>no(e,t,r)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer)return{rr_type:e.constructor.name,base64:function(e){var t,r=new Uint8Array(e),n=r.length,s="";for(t=0;t<n;t+=3)s+=Zs[r[t]>>2],s+=Zs[(3&r[t])<<4|r[t+1]>>4],s+=Zs[(15&r[t+1])<<2|r[t+2]>>6],s+=Zs[63&r[t+2]];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s}(e)};if(e instanceof DataView)return{rr_type:e.constructor.name,args:[no(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){var n=e.constructor.name,{src:s}=e;return{rr_type:n,src:s}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}return e instanceof ImageData?{rr_type:e.constructor.name,args:[no(e.data,t,r),e.width,e.height]}:oo(e,t)||"object"==typeof e?{rr_type:e.constructor.name,index:ro(e,t,r)}:e}var so=(e,t,r)=>e.map((e=>no(e,t,r))),oo=(e,t)=>{var r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(r.find((r=>e instanceof t[r])))};function io(e,t,r,n){var s=[];try{var o=Xn(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(s){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(!ls(this,t,r,!0)){var l=function(e){return"experimental-webgl"===e?"webgl":e}(s);if("__context"in this||(this.__context=l),n&&["webgl","webgl2"].includes(l))if(i[0]&&"object"==typeof i[0]){var u=i[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else i.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[s,...i])}}));s.push(o)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach((e=>e()))}}function ao(e,t,r,n,s,o){var i=[],a=Object.getOwnPropertyNames(e),l=function(a){if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))return"continue";try{if("function"!=typeof e[a])return"continue";var l=Xn(e,a,(function(e){return function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];var c=e.apply(this,l);if(ro(c,o,this),"tagName"in this.canvas&&!ls(this.canvas,n,s,!0)){var h=so(l,o,this),p={type:t,property:a,args:h};r(this.canvas,p)}return c}}));i.push(l)}catch(n){var u=rs(e,a,{set(e){r(this.canvas,{type:t,property:a,args:[e],setter:!0})}});i.push(u)}};for(var u of a)l(u);return i}var lo,uo,co,ho='(function() {\n  "use strict";\n  var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";\n  var lookup = typeof Uint8Array === "undefined" ? [] : new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n  var encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = "";\n    for (i2 = 0; i2 < len; i2 += 3) {\n      base64 += chars[bytes[i2] >> 2];\n      base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\n      base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\n      base64 += chars[bytes[i2 + 2] & 63];\n    }\n    if (len % 3 === 2) {\n      base64 = base64.substring(0, base64.length - 1) + "=";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + "==";\n    }\n    return base64;\n  };\n  const lastBlobMap = /* @__PURE__ */ new Map();\n  const transparentBlobMap = /* @__PURE__ */ new Map();\n  async function getTransparentBlobFor(width, height, dataURLOptions) {\n    const id = `${width}-${height}`;\n    if ("OffscreenCanvas" in globalThis) {\n      if (transparentBlobMap.has(id)) return transparentBlobMap.get(id);\n      const offscreen = new OffscreenCanvas(width, height);\n      offscreen.getContext("2d");\n      const blob = await offscreen.convertToBlob(dataURLOptions);\n      const arrayBuffer = await blob.arrayBuffer();\n      const base64 = encode(arrayBuffer);\n      transparentBlobMap.set(id, base64);\n      return base64;\n    } else {\n      return "";\n    }\n  }\n  const worker = self;\n  worker.onmessage = async function(e) {\n    if ("OffscreenCanvas" in globalThis) {\n      const { id, bitmap, width, height, dataURLOptions } = e.data;\n      const transparentBase64 = getTransparentBlobFor(\n        width,\n        height,\n        dataURLOptions\n      );\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext("2d");\n      ctx.drawImage(bitmap, 0, 0);\n      bitmap.close();\n      const blob = await offscreen.convertToBlob(dataURLOptions);\n      const type = blob.type;\n      const arrayBuffer = await blob.arrayBuffer();\n      const base64 = encode(arrayBuffer);\n      if (!lastBlobMap.has(id) && await transparentBase64 === base64) {\n        lastBlobMap.set(id, base64);\n        return worker.postMessage({ id });\n      }\n      if (lastBlobMap.get(id) === base64) return worker.postMessage({ id });\n      worker.postMessage({\n        id,\n        type,\n        base64,\n        width,\n        height\n      });\n      lastBlobMap.set(id, base64);\n    } else {\n      return worker.postMessage({ id: e.data.id });\n    }\n  };\n})();\n//# sourceMappingURL=image-bitmap-data-url-worker-IJpC7g_b.js.map\n',po="undefined"!=typeof self&&self.Blob&&new Blob([ho],{type:"text/javascript;charset=utf-8"});function fo(e){var t;try{if(!(t=po&&(self.URL||self.webkitURL).createObjectURL(po)))throw"";var r=new Worker(t,{name:null==e?void 0:e.name});return r.addEventListener("error",(()=>{(self.URL||self.webkitURL).revokeObjectURL(t)})),r}catch(t){return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(ho),{name:null==e?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}class mo{constructor(e){f(this,"pendingCanvasMutations",new Map),f(this,"rafStamps",{latestId:0,invokeId:null}),f(this,"mirror"),f(this,"mutationCb"),f(this,"resetObservers"),f(this,"frozen",!1),f(this,"locked",!1),f(this,"processMutation",((e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)}));var{sampling:t="all",win:r,blockClass:n,blockSelector:s,recordCanvas:o,dataURLOptions:i}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,o&&"all"===t&&this.initCanvasMutationObserver(r,n,s),o&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,n,s,{dataURLOptions:i})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,r,n,o){var i=this,a=io(t,r,n,!0),l=new Map,u=new fo;u.onmessage=e=>{var{id:t}=e.data;if(l.set(t,!1),"base64"in e.data){var{base64:r,type:n,width:s,height:o}=e.data;this.mutationCb({id:t,type:ks["2D"],commands:[{property:"clearRect",args:[0,0,s,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:n}]},0,0]}]})}};var c,h=1e3/e,p=0,d=e=>{var a,f;p&&e-p<h?c=requestAnimationFrame(d):(p=e,(a=[],f=e=>{e.querySelectorAll("canvas").forEach((e=>{ls(e,r,n,!0)||a.push(e)})),e.querySelectorAll("*").forEach((e=>{e.shadowRoot&&f(e.shadowRoot)}))},f(t.document),a).forEach(function(){var e=s((function*(e){var t,r=i.mirror.getId(e);if(!l.get(r)&&0!==e.width&&0!==e.height){if(l.set(r,!0),["webgl","webgl2"].includes(e.__context)){var n=e.getContext(e.__context);!1===(null==(t=null==n?void 0:n.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&n.clear(n.COLOR_BUFFER_BIT)}var s=e.clientWidth||e.width,a=e.clientHeight||e.height,c=yield createImageBitmap(e,{resizeWidth:s,resizeHeight:a});u.postMessage({id:r,bitmap:c,width:s,height:a,dataURLOptions:o.dataURLOptions},[c])}}));return function(t){return e.apply(this,arguments)}}()),c=requestAnimationFrame(d))};c=requestAnimationFrame(d),this.resetObservers=()=>{a(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var n=io(e,t,r,!1),s=function(e,t,r,n){var s=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype),i=function(o){try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])return"continue";var i=Xn(t.CanvasRenderingContext2D.prototype,o,(function(s){return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return ls(this.canvas,r,n,!0)||setTimeout((()=>{var r=so(a,t,this);e(this.canvas,{type:ks["2D"],property:o,args:r})}),0),s.apply(this,a)}}));s.push(i)}catch(r){var a=rs(t.CanvasRenderingContext2D.prototype,o,{set(t){e(this.canvas,{type:ks["2D"],property:o,args:[t],setter:!0})}});s.push(a)}};for(var a of o)i(a);return()=>{s.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r),o=function(e,t,r,n){var s=[];return s.push(...ao(t.WebGLRenderingContext.prototype,ks.WebGL,e,r,n,t)),void 0!==t.WebGL2RenderingContext&&s.push(...ao(t.WebGL2RenderingContext.prototype,ks.WebGL2,e,r,n,t)),()=>{s.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r);this.resetObservers=()=>{n(),s(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){var e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{var r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(!this.frozen&&!this.locked){var r=this.pendingCanvasMutations.get(e);if(r&&-1!==t){var n=r.map((e=>i(e,p))),{type:s}=r[0];this.mutationCb({id:t,type:s,commands:n}),this.pendingCanvasMutations.delete(e)}}}}class vo{constructor(e){f(this,"trackedLinkElements",new WeakSet),f(this,"mutationCb"),f(this,"adoptedStyleSheetCb"),f(this,"styleMirror",new ms),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){var r=this;if(0!==e.length){var n={id:t,styleIds:[]},s=[],o=function(e){var t=void 0;r.styleMirror.has(e)?t=r.styleMirror.getId(e):(t=r.styleMirror.add(e),s.push({styleId:t,rules:Array.from(e.rules||CSSRule,((t,r)=>({rule:A(t,e.href),index:r})))})),n.styleIds.push(t)};for(var i of e)o(i);s.length>0&&(n.styles=s),this.adoptedStyleSheetCb(n)}}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class go{constructor(){f(this,"nodeMap",new WeakMap),f(this,"active",!1)}inOtherBuffer(e,t){var r=this.nodeMap.get(e);return r&&Array.from(r).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}var yo=!1;try{if(2!==Array.from([1],(e=>2*e))[0]){var wo=document.createElement("iframe");document.body.appendChild(wo),Array.from=(null==(a=wo.contentWindow)?void 0:a.Array.from)||Array.from,document.body.removeChild(wo)}}catch(e){console.debug("Unable to override Array.from",e)}var bo,So,Co=new N;function ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emit:t,checkoutEveryNms:n,checkoutEveryNth:s,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskTextClass:u="rr-mask",maskTextSelector:c=null,inlineStylesheet:h=!0,maskAllInputs:p,maskInputOptions:d,slimDOMOptions:f,maskInputFn:m,maskTextFn:v,hooks:g,packFn:y,sampling:w={},dataURLOptions:b={},mousemoveWait:S,recordDOM:C=!0,recordCanvas:k=!1,recordCrossOriginIframes:x=!1,recordAfter:O=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:M=!1,collectFonts:I=!1,inlineImages:E=!1,plugins:R,keepIframeSrcFn:T=(()=>!1),ignoreCSSAttributes:A=new Set([]),errorHandler:L}=e;Es=L;var P=!x||window.parent===window,D=!1;if(!P)try{window.parent.document&&(D=!1)}catch(e){D=!0}if(P&&!t)throw new Error("emit function is required");if(!P&&!D)return()=>{};void 0!==S&&void 0===w.mousemove&&(w.mousemove=S),Co.reset();var _,F=!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==d?d:{password:!0},B=!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===f,headMetaDescKeywords:"all"===f,headTitleMutations:"all"===f}:f||{};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();var j=0,U=e=>{for(var t of R||[])t.eventProcessor&&(e=t.eventProcessor(e));return y&&!D&&(e=y(e)),e};lo=(e,r)=>{var o,i=e;if(i.timestamp=ns(),!(null==(o=_s[0])?void 0:o.isFrozen())||i.type===ws.FullSnapshot||i.type===ws.IncrementalSnapshot&&i.data.source===bs.Mutation||_s.forEach((e=>e.unfreeze())),P)null==t||t(U(i),r);else if(D){var a={type:"rrweb",event:U(i),origin:window.location.origin,isCheckout:r};window.parent.postMessage(a,"*")}if(i.type===ws.FullSnapshot)_=i,j=0;else if(i.type===ws.IncrementalSnapshot){if(i.data.source===bs.Mutation&&i.data.isAttachIframe)return;j++;var l=s&&j>=s,u=n&&i.timestamp-_.timestamp>n;(l||u)&&uo(!0)}};var z=e=>{lo({type:ws.IncrementalSnapshot,data:r({source:bs.Mutation},e)})},W=e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.Scroll},e)}),q=e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.CanvasMutation},e)}),V=new vo({mutationCb:z,adoptedStyleSheetCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.AdoptedStyleSheet},e)})}),H=new Xs({mirror:Co,mutationCb:z,stylesheetManager:V,recordCrossOriginIframes:x,wrappedEmit:lo});for(var G of R||[])G.getMirror&&G.getMirror({nodeMirror:Co,crossOriginIframeMirror:H.crossOriginIframeMirror,crossOriginIframeStyleMirror:H.crossOriginIframeStyleMirror});var $=new go;co=new mo({recordCanvas:k,mutationCb:q,win:window,blockClass:o,blockSelector:i,mirror:Co,sampling:w.canvas,dataURLOptions:b});var J=new Ks({mutationCb:z,scrollCb:W,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:c,inlineStylesheet:h,maskInputOptions:F,dataURLOptions:b,maskTextFn:v,maskInputFn:m,recordCanvas:k,inlineImages:E,sampling:w,slimDOMOptions:B,iframeManager:H,stylesheetManager:V,canvasManager:co,keepIframeSrcFn:T,processedNodeManager:$},mirror:Co});uo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(C){lo({type:ws.Meta,data:{href:window.location.href,width:is(),height:os()}},e),V.reset(),J.init(),_s.forEach((e=>e.lock()));var t=function(e,t){var{mirror:r=new N,blockClass:n="rr-block",blockSelector:s=null,maskTextClass:o="rr-mask",maskTextSelector:i=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:h,maskInputFn:p,slimDOM:d=!1,dataURLOptions:f,preserveWhiteSpace:m,onSerialize:v,onIframeLoad:g,iframeLoadTimeout:y,onStylesheetLoad:w,stylesheetLoadTimeout:b,keepIframeSrcFn:S=(()=>!1)}=t||{};return pe(e,{doc:e,mirror:r,blockClass:n,blockSelector:s,maskTextClass:o,maskTextSelector:i,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===c?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===c?{password:!0}:c,maskTextFn:h,maskInputFn:p,slimDOMOptions:!0===d||"all"===d?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===d,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===d?{}:d,dataURLOptions:f,inlineImages:l,recordCanvas:u,preserveWhiteSpace:m,onSerialize:v,onIframeLoad:g,iframeLoadTimeout:y,onStylesheetLoad:w,stylesheetLoadTimeout:b,keepIframeSrcFn:S,newlyAddedElement:!1})}(document,{mirror:Co,blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:c,inlineStylesheet:h,maskAllInputs:F,maskTextFn:v,maskInputFn:m,slimDOM:B,dataURLOptions:b,recordCanvas:k,inlineImages:E,onSerialize:e=>{ps(e,Co)&&H.addIframe(e),ds(e,Co)&&V.trackLinkElement(e),fs(e)&&J.addShadowRoot(Kn.shadowRoot(e),document)},onIframeLoad:(e,t)=>{H.attachIframe(e,t),J.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{V.attachLinkElement(e,t)},keepIframeSrcFn:T});if(!t)return console.warn("Failed to snapshot the document");lo({type:ws.FullSnapshot,data:{node:t,initialOffset:ss(window)}},e),_s.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&V.adoptStyleSheets(document.adoptedStyleSheets,Co.getId(document))}};try{var Y=[],X=e=>{var t;return Ds(Gs)({mutationCb:z,mousemoveCb:(e,t)=>lo({type:ws.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.MouseInteraction},e)}),scrollCb:W,viewportResizeCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.ViewportResize},e)}),inputCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.Input},e)}),mediaInteractionCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.MediaInteraction},e)}),styleSheetRuleCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.StyleSheetRule},e)}),styleDeclarationCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.StyleDeclaration},e)}),canvasMutationCb:q,fontCb:e=>lo({type:ws.IncrementalSnapshot,data:r({source:bs.Font},e)}),selectionCb:e=>{lo({type:ws.IncrementalSnapshot,data:r({source:bs.Selection},e)})},customElementCb:e=>{lo({type:ws.IncrementalSnapshot,data:r({source:bs.CustomElement},e)})},blockClass:o,ignoreClass:a,ignoreSelector:l,maskTextClass:u,maskTextSelector:c,maskInputOptions:F,inlineStylesheet:h,sampling:w,recordDOM:C,recordCanvas:k,inlineImages:E,userTriggeredOnInput:M,collectFonts:I,doc:e,maskInputFn:m,maskTextFn:v,keepIframeSrcFn:T,blockSelector:i,slimDOMOptions:B,dataURLOptions:b,mirror:Co,iframeManager:H,stylesheetManager:V,shadowDomManager:J,processedNodeManager:$,canvasManager:co,ignoreCSSAttributes:A,plugins:(null==(t=null==R?void 0:R.filter((e=>e.observer)))?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>lo({type:ws.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},g)};H.addLoadListener((e=>{try{Y.push(X(e.contentDocument))}catch(e){console.warn(e)}}));var K=()=>{uo(),Y.push(X(document)),yo=!0};return"interactive"===document.readyState||"complete"===document.readyState?K():(Y.push(Zn("DOMContentLoaded",(()=>{lo({type:ws.DomContentLoaded,data:{}}),"DOMContentLoaded"===O&&K()}))),Y.push(Zn("load",(()=>{lo({type:ws.Load,data:{}}),"load"===O&&K()}),window))),()=>{Y.forEach((e=>e())),$.destroy(),yo=!1,Es=void 0}}catch(e){console.warn(e)}}ko.addCustomEvent=(e,t)=>{if(!yo)throw new Error("please add custom event after start recording");lo({type:ws.Custom,data:{tag:e,payload:t}})},ko.freezePage=()=>{_s.forEach((e=>e.freeze()))},ko.takeFullSnapshot=e=>{if(!yo)throw new Error("please take full snapshot after start recording");uo(e)},ko.mirror=Co,(So=bo||(bo={}))[So.NotStarted=0]="NotStarted",So[So.Running=1]="Running",So[So.Stopped=2]="Stopped";var xo=Object.defineProperty,Oo=(e,t,r)=>((e,t,r)=>t in e?xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class Mo{constructor(e){Oo(this,"fileName"),Oo(this,"functionName"),Oo(this,"lineNumber"),Oo(this,"columnNumber"),this.fileName=e.fileName||"",this.functionName=e.functionName||"",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}toString(){var e=this.lineNumber||"",t=this.columnNumber||"";return this.functionName?"".concat(this.functionName," (").concat(this.fileName,":").concat(e,":").concat(t,")"):"".concat(this.fileName,":").concat(e,":").concat(t)}}var Io=/(^|@)\S+:\d+/,Eo=/^\s*at .*(\S+:\d+|\(native\))/m,Ro=/^(eval@)?(\[native code])?$/,To={parse:function(e){return e?void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(Eo)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):(console.warn("[console-record-plugin]: Failed to parse error object:",e),[]):[]},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));if(!t)throw new Error("Cannot parse given url: ".concat(e));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(Eo)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),s=this.extractLocation(r?r[1]:n.pop()),o=n.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(s[0])>-1?void 0:s[0];return new Mo({functionName:o,fileName:i,lineNumber:s[1],columnNumber:s[2]})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(Ro)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new Mo({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(t),n=r&&r[1]?r[1]:void 0,s=this.extractLocation(e.replace(t,""));return new Mo({functionName:n,fileName:s[0],lineNumber:s[1],columnNumber:s[2]})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[],s=2,o=r.length;s<o;s+=2){var i=t.exec(r[s]);i&&n.push(new Mo({fileName:i[2],lineNumber:parseFloat(i[1])}))}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[],s=0,o=r.length;s<o;s+=2){var i=t.exec(r[s]);i&&n.push(new Mo({functionName:i[3]||void 0,fileName:i[2],lineNumber:parseFloat(i[1])}))}return n},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(Io)&&!e.match(/^Error created at/)}),this).map((function(e){var t=e.split("@"),r=this.extractLocation(t.pop()),n=(t.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new Mo({functionName:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}),this)}};function Ao(e){if(!e||!e.outerHTML)return"";for(var t="";e.parentElement;){var r=e.localName;if(!r)break;r=r.toLowerCase();var n=e.parentElement,s=[];if(n.children&&n.children.length>0)for(var o=0;o<n.children.length;o++){var i=n.children[o];i.localName&&i.localName.toLowerCase&&i.localName.toLowerCase()===r&&s.push(i)}s.length>1&&(r+=":eq(".concat(s.indexOf(e),")")),t=r+(t?">"+t:""),e=n}return t}function No(e){return"[object Object]"===Object.prototype.toString.call(e)}function Lo(e,t){if(0===t)return!0;var r=Object.keys(e);for(var n of r)if(No(e[n])&&Lo(e[n],t-1))return!0;return!1}function Po(e,t){var r={numOfKeysLimit:50,depthOfLimit:4};Object.assign(r,t);var n=[],s=[];return JSON.stringify(e,(function(e,t){if(n.length>0){var o=n.indexOf(this);~o?n.splice(o+1):n.push(this),~o?s.splice(o,1/0,e):s.push(e),~n.indexOf(t)&&(t=n[0]===t?"[Circular ~]":"[Circular ~."+s.slice(0,n.indexOf(t)).join(".")+"]")}else n.push(t);if(null===t)return t;if(void 0===t)return"undefined";if(function(e){if(No(e)&&Object.keys(e).length>r.numOfKeysLimit)return!0;if("function"==typeof e)return!0;if(No(e)&&Lo(e,r.depthOfLimit))return!0;return!1}(t))return function(e){var t=e.toString();r.stringLengthLimit&&t.length>r.stringLengthLimit&&(t="".concat(t.slice(0,r.stringLengthLimit),"..."));return t}(t);if("bigint"==typeof t)return t.toString()+"n";if(t instanceof Event){var i={};for(var a in t){var l=t[a];Array.isArray(l)?i[a]=Ao(l.length?l[0]:null):i[a]=l}return i}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:"":t.nodeName:t instanceof Error?t.stack?t.stack+"\nEnd of stack for Error object":t.name+": "+t.message:t}))}var Do={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function _o(e,t,r){var n,s=r?Object.assign({},Do,r):Do,o=s.logger;if(!o)return()=>{};n="string"==typeof o?t[o]:o;var i=0,a=!1,l=[];if(s.level.includes("error")){var u=t=>{var r=t.message,n=t.error,o=To.parse(n).map((e=>e.toString())),i=[Po(r,s.stringifyOptions)];e({level:"error",trace:o,payload:i})};t.addEventListener("error",u),l.push((()=>{t.removeEventListener("error",u)}));var c=t=>{var r,n;t.reason instanceof Error?(r=t.reason,n=[Po("Uncaught (in promise) ".concat(r.name,": ").concat(r.message),s.stringifyOptions)]):(r=new Error,n=[Po("Uncaught (in promise)",s.stringifyOptions),Po(t.reason,s.stringifyOptions)]);var o=To.parse(r).map((e=>e.toString()));e({level:"error",trace:o,payload:n})};t.addEventListener("unhandledrejection",c),l.push((()=>{t.removeEventListener("unhandledrejection",c)}))}for(var h of s.level)l.push(p(n,h));return()=>{l.forEach((e=>e()))};function p(t,r){var n=this;return t[r]?function(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch(e){return()=>{}}}(t,r,(t=>function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(t.apply(n,l),!("assert"===r&&l[0]||a)){a=!0;try{var c=To.parse(new Error).map((e=>e.toString())).splice(1),h=("assert"===r?l.slice(1):l).map((e=>Po(e,s.stringifyOptions)));++i<s.lengthThreshold?e({level:r,trace:c,payload:h}):i===s.lengthThreshold&&e({level:"warn",trace:[],payload:[Po("The number of log records reached the threshold.")]})}catch(e){t("rrweb logger error:",e,...l)}finally{a=!1}}})):()=>{}}}var Fo=e=>({name:"rrweb/console@1",observer:_o,options:e}),Bo="undefined"!=typeof window?window:void 0,jo="undefined"!=typeof globalThis?globalThis:Bo,Uo=Array.prototype.forEach,zo=null==jo?void 0:jo.navigator;null==jo||jo.document,null==jo||jo.location,null==jo||jo.fetch,null!=jo&&jo.XMLHttpRequest&&"withCredentials"in new jo.XMLHttpRequest&&jo.XMLHttpRequest,null==jo||jo.AbortController,null==zo||zo.userAgent;var Wo,qo=null!=Bo?Bo:{};!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(Wo||(Wo={}));var Vo=Array.isArray,Ho=Object.prototype,Go=Ho.hasOwnProperty,$o=Ho.toString,Jo=Vo||function(e){return"[object Array]"===$o.call(e)},Yo=e=>"function"==typeof e,Xo=e=>e===Object(e)&&!Jo(e),Ko=e=>void 0===e,Zo=e=>"[object String]"==$o.call(e),Qo=e=>null===e,ei=e=>Ko(e)||Qo(e),ti=e=>"[object Boolean]"===$o.call(e),ri=e=>e instanceof Document,ni=e=>e instanceof FormData,si=e=>{var t={_log:function(t){if(Bo&&qo.POSTHOG_DEBUG&&!Ko(Bo.console)&&Bo.console){for(var r=("__rrweb_original__"in Bo.console[t]?Bo.console[t].__rrweb_original__:Bo.console[t]),n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];r(e,...s)}},info:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t._log("log",...r)},warn:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t._log("warn",...r)},error:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t._log("error",...r)},critical:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.error(e,...r)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling ".concat(e))},createLogger:t=>si("".concat(e," ").concat(t))};return t},oi=si("[PostHog.js]").createLogger,ii={};function ai(e,t,r){if(!ei(e)){if(Jo(e))return function(e,t,r){if(Jo(e))if(Uo&&e.forEach===Uo)e.forEach(t,r);else if("length"in e&&e.length===+e.length)for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n)===ii)return}(e,t,r);if(ni(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===ii)return}else for(var s in e)if(Go.call(e,s)&&t.call(r,e[s],s)===ii)return}}var li=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",s=[];return ai(e,(function(e,n){Ko(e)||Ko(n)||"undefined"===n||(t=encodeURIComponent(e instanceof File?e.name:e.toString()),r=encodeURIComponent(n),s[s.length]=r+"="+t)})),s.join(n)},ui={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com"]};function ci(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return Yo(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=n}}catch(e){return()=>{}}}function hi(e,t){var r,n=function(e){try{return"string"==typeof e?new URL(e).hostname:"url"in e?new URL(e.url).hostname:e.hostname}catch(e){return null}}(e),s={hostname:n,isHostDenied:!1};if(null===(r=t.payloadHostDenyList)||void 0===r||!r.length||null==n||!n.trim().length)return s;for(var o of t.payloadHostDenyList)if(n.endsWith(o))return{hostname:n,isHostDenied:!0};return s}var pi=oi("[Recorder]"),di=e=>"navigation"===e.entryType,fi=e=>"resource"===e.entryType;function mi(e,t){for(var r=e.length-1;r>=0;r-=1)if(t(e[r]))return e[r]}function vi(e,t,r){if(r.recordInitialRequests){var n=t.performance.getEntries().filter((e=>di(e)||fi(e)&&r.initiatorTypes.includes(e.initiatorType)));e({requests:n.flatMap((e=>ki({entry:e,method:void 0,status:void 0,networkRequest:{},isInitial:!0}))),isInitial:!0})}var s=new t.PerformanceObserver((t=>{var n=t.getEntries().filter((e=>di(e)||fi(e)&&r.initiatorTypes.includes(e.initiatorType)&&(e=>!r.recordBody&&!r.recordHeaders||"xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType)(e)));e({requests:n.flatMap((e=>ki({entry:e,method:void 0,status:void 0,networkRequest:{}})))})})),o=PerformanceObserver.supportedEntryTypes.filter((e=>r.performanceEntryTypeToObserve.includes(e)));return s.observe({entryTypes:o}),()=>{s.disconnect()}}function gi(e,t){return!!t&&(ti(t)||t[e])}function yi(e){var{type:t,recordBody:r,headers:n}=e;function s(e){var t=Object.keys(n).find((e=>"content-type"===e.toLowerCase())),r=t&&n[t];return e.some((e=>null==r?void 0:r.includes(e)))}if(!r)return!1;if(ti(r))return!0;if(Jo(r))return s(r);var o=r[t];return ti(o)?o:s(o)}function wi(e,t,r,n,s){return bi.apply(this,arguments)}function bi(){return bi=s((function*(e,t,r,n,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(o>10)return pi.warn("Failed to get performance entry for request",{url:r,initiatorType:t}),null;var i=mi(e.performance.getEntriesByName(r),(e=>fi(e)&&e.initiatorType===t&&(Ko(n)||e.startTime>=n)&&(Ko(s)||e.startTime<=s)));return i||(yield new Promise((e=>setTimeout(e,50*o))),wi(e,t,r,n,s,o+1))})),bi.apply(this,arguments)}function Si(e){var{body:t,options:r,url:n}=e;if(ei(t))return null;var{hostname:s,isHostDenied:o}=hi(n,r);if(o)return s+" is in deny list";if(Zo(t))return t;if(ri(t))return t.textContent;if(ni(t))return li(t);if(Xo(t))try{return JSON.stringify(t)}catch(e){return"[SessionReplay] Failed to stringify response object"}return"[SessionReplay] Cannot read body of type "+toString.call(t)}var Ci=e=>!Qo(e)&&("navigation"===e.entryType||"resource"===e.entryType);function ki(e){var{entry:t,method:n,status:s,networkRequest:o,isInitial:i,start:a,end:l,url:u,initiatorType:c}=e;a=t?t.startTime:a,l=t?t.responseEnd:l;var h=Math.floor(Date.now()-performance.now()),p=Math.floor(h+(a||0)),d=[r(r({},t?t.toJSON():{name:u}),{},{startTime:Ko(a)?void 0:Math.round(a),endTime:Ko(l)?void 0:Math.round(l),timeOrigin:h,timestamp:p,method:n,initiatorType:c||(t?t.initiatorType:void 0),status:s,requestHeaders:o.requestHeaders,requestBody:o.requestBody,responseHeaders:o.responseHeaders,responseBody:o.responseBody,isInitial:i})];if(Ci(t))for(var f of t.serverTiming||[])d.push({timeOrigin:h,timestamp:p,startTime:Math.round(t.startTime),name:f.name,duration:f.duration,entryType:"serverTiming"});return d}var xi=["video/","audio/"];function Oi(e){return new Promise(((t,r)=>{var n=setTimeout((()=>t("[SessionReplay] Timeout while trying to read body")),500);try{e.clone().text().then((e=>t(e)),(e=>r(e))).finally((()=>clearTimeout(n)))}catch(e){clearTimeout(n),t("[SessionReplay] Failed to read body")}}))}function Mi(){return(Mi=s((function*(e){var{r:t,options:r,url:n}=e,{hostname:s,isHostDenied:o}=hi(n,r);return o?Promise.resolve(s+" is in deny list"):Oi(t)}))).apply(this,arguments)}function Ii(){return(Ii=s((function*(e){var{r:t,options:r,url:n}=e,s=function(e){var t,{r:r,options:n,url:s}=e;if("chunked"===r.headers.get("Transfer-Encoding"))return"Chunked Transfer-Encoding is not supported";var o=null===(t=r.headers.get("Content-Type"))||void 0===t?void 0:t.toLowerCase(),i=xi.some((e=>null==o?void 0:o.startsWith(e)));if(o&&i)return"Content-Type ".concat(o," is not supported");var{hostname:a,isHostDenied:l}=hi(s,n);return l?a+" is in deny list":null}({r:t,options:r,url:n});return Qo(s)?Oi(t):Promise.resolve(s)}))).apply(this,arguments)}function Ei(e,t,r){if(!r.initiatorTypes.includes("fetch"))return()=>{};var n=gi("request",r.recordHeaders),o=gi("response",r.recordHeaders),i=ci(t,"fetch",(i=>function(){var a=s((function*(s,a){var l,u,c,h=new Request(s,a),p={};try{var d={};h.headers.forEach(((e,t)=>{d[t]=e})),n&&(p.requestHeaders=d),yi({type:"request",headers:d,url:s,recordBody:r.recordBody})&&(p.requestBody=yield function(e){return Mi.apply(this,arguments)}({r:h,options:r,url:s})),u=t.performance.now(),l=yield i(h),c=t.performance.now();var f={};return l.headers.forEach(((e,t)=>{f[t]=e})),o&&(p.responseHeaders=f),yi({type:"response",headers:f,url:s,recordBody:r.recordBody})&&(p.responseBody=yield function(e){return Ii.apply(this,arguments)}({r:l,options:r,url:s})),l}finally{wi(t,"fetch",h.url,u,c).then((t=>{var r,n=ki({entry:t,method:h.method,status:null===(r=l)||void 0===r?void 0:r.status,networkRequest:p,start:u,end:c,url:h.url,initiatorType:"fetch"});e({requests:n})})).catch((()=>{}))}}));return function(e,t){return a.apply(this,arguments)}}()));return()=>{i()}}var Ri=null;function Ti(e,t,n){if(!("performance"in t))return()=>{};if(Ri)return pi.warn("Network observer already initialised, doing nothing"),()=>{};var s=n?Object.assign({},ui,n):ui,o=t=>{var n=[];t.requests.forEach((e=>{var t=s.maskRequestFn(e);t&&n.push(t)})),n.length>0&&e(r(r({},t),{},{requests:n}))},i=vi(o,t,s),a=()=>{},l=()=>{};return(s.recordHeaders||s.recordBody)&&(a=function(e,t,r){if(!r.initiatorTypes.includes("xmlhttprequest"))return()=>{};var n=gi("request",r.recordHeaders),s=gi("response",r.recordHeaders),o=ci(t.XMLHttpRequest.prototype,"open",(o=>function(i,a){var l,u,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0,d=this,f=new Request(a),m={},v={},g=d.setRequestHeader.bind(d);d.setRequestHeader=(e,t)=>(v[e]=t,g(e,t)),n&&(m.requestHeaders=v);var y=d.send.bind(d);d.send=e=>(yi({type:"request",headers:v,url:a,recordBody:r.recordBody})&&(m.requestBody=Si({body:e,options:r,url:a})),l=t.performance.now(),y(e)),d.addEventListener("readystatechange",(()=>{if(d.readyState===d.DONE){u=t.performance.now();var n={};d.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((e=>{var t=e.split(": "),r=t.shift(),s=t.join(": ");r&&(n[r]=s)})),s&&(m.responseHeaders=n),yi({type:"response",headers:n,url:a,recordBody:r.recordBody})&&(m.responseBody=Si({body:d.response,options:r,url:a})),wi(t,"xmlhttprequest",f.url,l,u).then((t=>{var r=ki({entry:t,method:i,status:null==d?void 0:d.status,networkRequest:m,start:l,end:u,url:a.toString(),initiatorType:"xmlhttprequest"});e({requests:r})})).catch((()=>{}))}})),o.call(d,i,a,c,h,p)}));return()=>{o()}}(o,t,s),l=Ei(o,t,s)),Ri=()=>{i(),a(),l()}}var Ai="rrweb/network@1",Ni=e=>({name:Ai,observer:Ti,options:e});qo.__PosthogExtensions__=qo.__PosthogExtensions__||{},qo.__PosthogExtensions__.rrwebPlugins={getRecordConsolePlugin:Fo,getRecordNetworkPlugin:Ni},qo.__PosthogExtensions__.rrweb={record:ko,version:"v2"},qo.rrweb={record:ko,version:"v2"},qo.rrwebConsoleRecord={getRecordConsolePlugin:Fo},qo.getRecordNetworkPlugin=Ni,e.NETWORK_PLUGIN_NAME=Ai,e.default=ko,e.findLast=mi,e.getRecordNetworkPlugin=Ni,Object.defineProperty(e,"__esModule",{value:!0})}({});
//# sourceMappingURL=posthog-recorder.js.map
