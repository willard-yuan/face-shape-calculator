{"version":3,"file":"pqueue.js","sources":["../../src/pqueue.ts"],"sourcesContent":["interface PQueueComparator<T> {\n\t(a: T, b: T): number;\n}\n\n/**\n * @private\n */\nexport class PQueue<T> {\n\tcontents: T[];\n\tprivate _sorted: boolean;\n\tprivate _comparator: PQueueComparator<T>;\n\tprivate _sort(): void {\n\t\tif (!this._sorted) {\n\t\t\tthis.contents.sort(this._comparator);\n\t\t\tthis._sorted = true;\n\t\t}\n\t}\n\n\tconstructor(comparator: PQueueComparator<T>) {\n\t\tthis._comparator = comparator;\n\t\tthis.contents = [];\n\t\tthis._sorted = false;\n\t}\n\n\tpush(item: T): void {\n\t\tthis.contents.push(item);\n\t\tthis._sorted = false;\n\t}\n\n\tpeek(index?: number): T {\n\t\tthis._sort();\n\t\tindex = typeof index === \"number\" ? index : this.contents.length - 1;\n\t\treturn this.contents[index]!;\n\t}\n\n\tpop() {\n\t\tthis._sort();\n\t\treturn this.contents.pop();\n\t}\n\n\tsize(): number {\n\t\treturn this.contents.length;\n\t}\n\n\tmap<U>(mapper: (item: T, index: number) => any): U[] {\n\t\tthis._sort();\n\t\treturn this.contents.map(mapper);\n\t}\n}\n"],"names":[],"mappings":"AAOO,MAAM,OAAU;AAAA,EAId,QAAc;AACjB,QAAA,CAAC,KAAK,SAAS;AACb,WAAA,SAAS,KAAK,KAAK,WAAW;AACnC,WAAK,UAAU;AAAA,IAAA;AAAA,EAChB;AAAA,EAGD,YAAY,YAAiC;AAC5C,SAAK,cAAc;AACnB,SAAK,WAAW,CAAC;AACjB,SAAK,UAAU;AAAA,EAAA;AAAA,EAGhB,KAAK,MAAe;AACd,SAAA,SAAS,KAAK,IAAI;AACvB,SAAK,UAAU;AAAA,EAAA;AAAA,EAGhB,KAAK,OAAmB;AACvB,SAAK,MAAM;AACX,YAAQ,OAAO,UAAU,WAAW,QAAQ,KAAK,SAAS,SAAS;AAC5D,WAAA,KAAK,SAAS,KAAK;AAAA,EAAA;AAAA,EAG3B,MAAM;AACL,SAAK,MAAM;AACJ,WAAA,KAAK,SAAS,IAAI;AAAA,EAAA;AAAA,EAG1B,OAAe;AACd,WAAO,KAAK,SAAS;AAAA,EAAA;AAAA,EAGtB,IAAO,QAA8C;AACpD,SAAK,MAAM;AACJ,WAAA,KAAK,SAAS,IAAI,MAAM;AAAA,EAAA;AAEjC;"}