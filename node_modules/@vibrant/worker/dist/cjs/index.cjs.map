{"version":3,"file":"index.cjs","sources":["../../src/index.ts"],"sourcesContent":["import { WorkerPool } from \"./pool\";\nimport type { TaskWorkerClass } from \"./common\";\n\nexport class WorkerManager {\n\tprivate _pools: { [name: string]: WorkerPool } = {};\n\n\tregister(name: string, WorkerClass: TaskWorkerClass) {\n\t\tthis._pools[name] = new WorkerPool(WorkerClass);\n\t}\n\n\thasWorker(name: string) {\n\t\treturn !!this._pools[name];\n\t}\n\n\tgetWorker(name: string) {\n\t\treturn this._pools[name];\n\t}\n\n\tinvokeWorker<R>(name: string, args: any[], transferList?: any[]) {\n\t\treturn this.hasWorker(name)\n\t\t\t? this.getWorker(name)!.invoke<R>(args, transferList)\n\t\t\t: Promise.reject(`Worker '${name}' does not exist`);\n\t}\n}\n\nexport * from \"./worker\";\nexport * from \"./common\";\n"],"names":["WorkerPool"],"mappings":";;;;AAGO,MAAM,cAAc;AAAA,EAApB,cAAA;AACN,SAAQ,SAAyC,CAAC;AAAA,EAAA;AAAA,EAElD,SAAS,MAAc,aAA8B;AACpD,SAAK,OAAO,IAAI,IAAI,IAAIA,KAAAA,WAAW,WAAW;AAAA,EAAA;AAAA,EAG/C,UAAU,MAAc;AACvB,WAAO,CAAC,CAAC,KAAK,OAAO,IAAI;AAAA,EAAA;AAAA,EAG1B,UAAU,MAAc;AAChB,WAAA,KAAK,OAAO,IAAI;AAAA,EAAA;AAAA,EAGxB,aAAgB,MAAc,MAAa,cAAsB;AAChE,WAAO,KAAK,UAAU,IAAI,IACvB,KAAK,UAAU,IAAI,EAAG,OAAU,MAAM,YAAY,IAClD,QAAQ,OAAO,WAAW,IAAI,kBAAkB;AAAA,EAAA;AAErD;;;"}